import{$ as I,A as N,B as F,C as p,D as n,E as r,F as C,G as _,H as g,I as d,J as z,K as T,O as u,P as w,Q as k,Z as H,_ as s,ba as M,ca as j,d as D,ea as V,fa as $,g as b,h,i as f,j as y,ja as A,l as B,n as G,p as O,r as R,t as l,u as v,w as m,x as c,y as E}from"./chunk-MNGWSI5C.js";var J=["*",[["","slot","footer"]]],K=["*","[slot=footer]"];function Q(i,e){if(i&1&&(n(0,"h3",6),u(1),r()),i&2){let t=d(3);p("ngClass",t.getTitleClass()),l(),w(t.title())}}function X(i,e){i&1&&C(0,"div")}function Y(i,e){if(i&1){let t=_();n(0,"button",8),g("click",function(){h(t);let a=d(3);return f(a.onClose())}),y(),n(1,"svg",9),C(2,"path",10),r()()}}function Z(i,e){if(i&1&&(n(0,"div",3),m(1,Q,2,2,"h3",6)(2,X,1,0,"div"),m(3,Y,3,0,"button",7),r()),i&2){let t=d(2);p("ngClass",t.getHeaderClass()),l(),c(t.title()?1:2),l(2),c(t.showCloseButton()?3:-1)}}function ee(i,e){if(i&1&&(n(0,"div",5),T(1,1),r()),i&2){let t=d(2);p("ngClass",t.getFooterClass())}}function te(i,e){if(i&1){let t=_();n(0,"div",1),g("click",function(){h(t);let a=d();return f(a.onBackdropClick())}),n(1,"div",2),g("click",function(a){return h(t),f(a.stopPropagation())}),m(2,Z,4,3,"div",3),n(3,"div",4),T(4),r(),m(5,ee,2,1,"div",5),r()()}if(i&2){let t=d();p("ngClass",t.getBackdropClass()),l(),p("ngClass",t.getModalClass()),l(),c(t.title()||t.showCloseButton()?2:-1),l(),p("ngClass",t.getContentClass()),l(2),c(t.hasFooter()?5:-1)}}var S=class i{isOpen=s.required();title=s();size=s("auto");type=s("hero");showCloseButton=s(!0);closeOnBackdrop=s(!0);hasFooter=s(!1);theme=s("amber");close=H();modalStyles={card:{backdrop:"bg-black/50",modal:"bg-neutral-900 border border-neutral-700 shadow-lg max-h-[70vh]",header:"border-b border-neutral-700",title:"text-amber-400",content:"p-4 overflow-y-auto max-h-[50vh]",footer:"border-t border-neutral-700 text-center"},hero:{backdrop:"bg-black/50 backdrop-blur-sm",modal:"shadow-2xl text-center",header:"",title:"text-2xl font-bold mb-2",content:"",footer:""}};getModalStyles(){let e=this.type();return this.modalStyles[e]||this.modalStyles.hero}onClose(){this.close.emit()}onBackdropClick(){this.closeOnBackdrop()&&this.close.emit()}getBackdropClass(){return this.getModalStyles().backdrop}getModalClass(){let e=this.getSizeClass();return`${this.getModalStyles().modal} ${e}`.trim()}getSizeClass(){return{auto:"",sm:"max-w-sm w-full",md:"max-w-md w-full",lg:"max-w-lg w-full",xl:"max-w-xl w-full",full:"w-full h-full max-w-none max-h-none"}[this.size()]}getHeaderClass(){return this.getModalStyles().header}getTitleClass(){return this.getModalStyles().title}getContentClass(){let e=this.getModalStyles(),t=this.theme();if(this.type()==="card"){let W=this.title()||this.showCloseButton()?"":"pt-4";return`${e.content} ${W}`.trim()}let o={amber:"bg-gradient-to-br from-amber-600 to-amber-800 border-2 border-amber-400",red:"bg-gradient-to-br from-red-600 to-red-800 border-2 border-red-400",orange:"bg-gradient-to-br from-orange-600 to-orange-800 border-2 border-orange-400",lime:"bg-gradient-to-br from-lime-600 to-lime-800 border-2 border-lime-400",yellow:"bg-gradient-to-br from-yellow-600 to-yellow-800 border-2 border-yellow-400",green:"bg-gradient-to-br from-green-600 to-green-800 border-2 border-green-400",cyan:"bg-gradient-to-br from-cyan-600 to-cyan-800 border-2 border-cyan-400"};return`${o[t]||o.amber} rounded-lg p-8`}getFooterClass(){return this.getModalStyles().footer}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-modal"]],inputs:{isOpen:[1,"isOpen"],title:[1,"title"],size:[1,"size"],type:[1,"type"],showCloseButton:[1,"showCloseButton"],closeOnBackdrop:[1,"closeOnBackdrop"],hasFooter:[1,"hasFooter"],theme:[1,"theme"]},outputs:{close:"close"},ngContentSelectors:K,decls:1,vars:1,consts:[[1,"fixed","inset-0","flex","items-center","justify-center","z-50","p-4",3,"ngClass"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50","p-4",3,"click","ngClass"],[1,"rounded-lg","overflow-hidden",3,"click","ngClass"],[1,"flex","items-center","justify-between","p-4",3,"ngClass"],[3,"ngClass"],[1,"p-4",3,"ngClass"],[1,"text-lg","font-bold",3,"ngClass"],[1,"text-neutral-400","hover:text-white","transition-colors"],[1,"text-neutral-400","hover:text-white","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(t,o){t&1&&(z(J),m(0,te,6,5,"div",0)),t&2&&c(o.isOpen()?0:-1)},dependencies:[M,I],encapsulation:2,changeDetection:0})};function ie(i,e){if(i&1){let t=_();n(0,"button",11),g("click",function(){h(t);let a=d();return f(a.openGameRulesModal())}),y(),n(1,"svg",12),C(2,"path",13),r()()}}function oe(i,e){if(i&1&&(n(0,"li",14)(1,"span",15),u(2),r(),n(3,"span",16),u(4),r()()),i&2){let t=e.$implicit,o=e.$index;l(2),k("",o+1,"."),l(2),w(t)}}function ne(i,e){if(i&1&&(n(0,"ul",8),N(1,oe,5,2,"li",14,E),r()),i&2){let t=d();l(),F(t.gameRules().rules)}}var P=class i{title=s("");gameRules=s(null);isGameRulesModalOpen=G(!1);openGameRulesModal(){this.isGameRulesModalOpen.set(!0)}closeGameRulesModal(){this.isGameRulesModalOpen.set(!1)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-game-header"]],inputs:{title:[1,"title"],gameRules:[1,"gameRules"]},decls:15,vars:7,consts:[[1,"flex","justify-between","items-center"],[1,"flex","items-center","gap-3"],[1,"text-center","text-2xl","font-bold","tracking-wider","text-lime-400","drop-shadow"],["title","\u67E5\u770B\u904A\u6232\u898F\u5247",1,"text-lime-600","hover:text-lime-400","transition-colors","p-1","rounded-full","hover:bg-lime-600/10"],[1,"flex","items-center"],["src",R`https://ghbtns.com/github-btn.html?user=mtwmt&repo=game&type=star&count=true`,"frameborder","0","scrolling","0","width","90","height","20","title","GitHub Star"],["routerLink","/",1,"bg-lime-600","hover:bg-lime-500","text-white","font-bold","py-1","px-2","rounded","text-sm","transition-colors","shadow-lg","hover:shadow-lime-500/25"],["size","sm",3,"close","isOpen","title","type","hasFooter"],[1,"space-y-3","text-sm"],["slot","footer"],[1,"text-xs","text-neutral-500"],["title","\u67E5\u770B\u904A\u6232\u898F\u5247",1,"text-lime-600","hover:text-lime-400","transition-colors","p-1","rounded-full","hover:bg-lime-600/10",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","gap-3"],[1,"text-lime-400","font-bold","min-w-[1.5rem]"],[1,"text-neutral-200"]],template:function(t,o){if(t&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),u(3),r(),m(4,ie,3,0,"button",3),r(),n(5,"div",4)(6,"div",4),C(7,"iframe",5),r(),n(8,"a",6),u(9," HOME "),r()()(),n(10,"app-modal",7),g("close",function(){return o.closeGameRulesModal()}),m(11,ne,3,0,"ul",8),n(12,"div",9)(13,"p",10),u(14,"\u795D\u4F60\u904A\u6232\u6109\u5FEB\uFF01"),r()()()),t&2){let a;l(3),k(" ",o.title()," "),l(),c(o.gameRules()?4:-1),l(6),p("isOpen",o.isGameRulesModalOpen()&&!!o.gameRules())("title",((a=o.gameRules())==null?null:a.title)||"")("type","card")("hasFooter",!0),l(),c(o.gameRules()?11:-1)}},dependencies:[M,A,S],encapsulation:2,changeDetection:0})};var q=class i{meta=b(V);title=b($);platformId=b(O);document=b(B);isBrowser=j(this.platformId);defaultConfig={siteName:"\u7DDA\u4E0A\u5C0F\u904A\u6232\u4E2D\u5FC3 - \u514D\u8CBB\u7D93\u5178\u904A\u6232\u5408\u96C6",defaultImage:"/assets/og-image.png",domain:"https://mtwmt.com/game",author:"Game Hub",twitterHandle:"@gamehub"};updateSeoTags(e){let t=e.title+" | "+this.defaultConfig.siteName;this.title.setTitle(t),this.meta.updateTag({name:"description",content:e.description}),e.keywords&&this.meta.updateTag({name:"keywords",content:e.keywords}),e.author&&this.meta.updateTag({name:"author",content:e.author}),e.canonical&&this.updateCanonical(e.canonical),this.updateOpenGraphTags(e),this.updateTwitterCardTags(e),this.updateStructuredData(e)}updateOpenGraphTags(e){let t=e.url||this.defaultConfig.domain,o=e.image||this.defaultConfig.domain+this.defaultConfig.defaultImage,a=e.type||"website";this.meta.updateTag({property:"og:title",content:e.title}),this.meta.updateTag({property:"og:description",content:e.description}),this.meta.updateTag({property:"og:type",content:a}),this.meta.updateTag({property:"og:url",content:t}),this.meta.updateTag({property:"og:image",content:o}),this.meta.updateTag({property:"og:image:alt",content:e.title}),this.meta.updateTag({property:"og:site_name",content:this.defaultConfig.siteName}),this.meta.updateTag({property:"og:locale",content:"zh_TW"})}updateTwitterCardTags(e){let t=e.image||this.defaultConfig.domain+this.defaultConfig.defaultImage;this.meta.updateTag({name:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({name:"twitter:title",content:e.title}),this.meta.updateTag({name:"twitter:description",content:e.description}),this.meta.updateTag({name:"twitter:image",content:t}),this.meta.updateTag({name:"twitter:image:alt",content:e.title}),this.defaultConfig.twitterHandle&&(this.meta.updateTag({name:"twitter:site",content:this.defaultConfig.twitterHandle}),this.meta.updateTag({name:"twitter:creator",content:this.defaultConfig.twitterHandle}))}updateCanonical(e){if(!this.isBrowser)return;let t=this.document.querySelector('link[rel="canonical"]');t&&t.remove();let o=this.document.createElement("link");o.setAttribute("rel","canonical"),o.setAttribute("href",e),this.document.head.appendChild(o)}updateStructuredData(e){if(!this.isBrowser)return;let t=e.url||this.defaultConfig.domain,o=this.document.querySelector('script[type="application/ld+json"]');o&&o.remove();let a={"@context":"https://schema.org","@type":e.type==="game"?"VideoGame":"WebSite",name:e.title,description:e.description,url:t,image:e.image||this.defaultConfig.domain+this.defaultConfig.defaultImage,author:{"@type":"Organization",name:e.author||this.defaultConfig.author},inLanguage:"zh-TW"};e.type==="game"&&Object.assign(a,{genre:"Casual Game",gamePlatform:"Web Browser",operatingSystem:"Any",applicationCategory:"Game"});let x=this.document.createElement("script");x.type="application/ld+json",x.text=JSON.stringify(a),this.document.head.appendChild(x)}clearSeoTags(){if(!this.isBrowser)return;let e=this.document.querySelector('link[rel="canonical"]');e&&e.remove();let t=this.document.querySelector('script[type="application/ld+json"]');t&&t.remove()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"})};export{S as a,P as b,q as c};
