import{a as te,b as ie}from"./chunk-GNQJS6EA.js";import{a as ne}from"./chunk-BJ3WDOWF.js";import{a as Q,b as ee}from"./chunk-NZCIL4YY.js";import{$ as J,A as G,B as p,C as r,D as o,E as F,F as M,G as f,H as m,K as O,L as $,N as a,O as S,P as x,U as q,W as b,Z as K,a as y,aa as A,b as T,d as U,g as X,h,i as v,m as _,o as Y,s as u,t as Z,v as I,w as R,y as N,z as P}from"./chunk-OM534BVK.js";var V=(n=>(n.WAITING="waiting",n.PLAYING="playing",n.WON="won",n.LOST="lost",n))(V||{}),k=(n=>(n.BEGINNER="beginner",n.INTERMEDIATE="intermediate",n.EXPERT="expert",n.CUSTOM="custom",n))(k||{});var le={beginner:{width:9,height:9,mineCount:10,name:"\u521D\u7D1A"},intermediate:{width:16,height:16,mineCount:40,name:"\u4E2D\u7D1A"},expert:{width:30,height:16,mineCount:99,name:"\u5C08\u5BB6"},custom:{width:16,height:16,mineCount:40,name:"\u81EA\u8A02"}},se={beginner:{width:8,height:8,mineCount:8,name:"\u521D\u7D1A"},intermediate:{width:11,height:11,mineCount:20,name:"\u4E2D\u7D1A"},expert:{width:12,height:15,mineCount:40,name:"\u5C08\u5BB6"},custom:{width:11,height:11,mineCount:20,name:"\u81EA\u8A02"}};function ue(l,t){let e=ie(l,t,te);return{width:e.width,height:e.height,mineCount:e.elementCount}}function de(l,t){let e=ue(l,t);return{beginner:{width:8,height:8,mineCount:8,name:"\u521D\u7D1A"},intermediate:{width:11,height:11,mineCount:20,name:"\u4E2D\u7D1A"},expert:{width:e.width,height:e.height,mineCount:e.mineCount,name:"\u5C08\u5BB6"},custom:{width:11,height:11,mineCount:20,name:"\u81EA\u8A02"}}}function L(l,t,e){return l&&t&&e?de(t,e):l?se:le}var w={MIN_BOARD_SIZE:5,MAX_BOARD_SIZE:50,MIN_MINE_COUNT:1,CELL_SIZE:32,FLAG_CHAR:"\u{1F6A9}",MINE_CHAR:"\u{1F4A3}",EXPLOSION_CHAR:"\u{1F4A5}"};var c=class{static isValidPosition(t,e,i){return t.x>=0&&t.x<e&&t.y>=0&&t.y<i}static isValidGameConfig(t,e,i){let n=t*e;return t>=w.MIN_BOARD_SIZE&&e>=w.MIN_BOARD_SIZE&&t<=w.MAX_BOARD_SIZE&&e<=w.MAX_BOARD_SIZE&&i>=w.MIN_MINE_COUNT&&i<n}static canMakeMove(t){return t.gameStatus==="playing"||t.gameStatus==="waiting"}static canRevealCell(t){return!t.isRevealed&&!t.isFlagged}static canToggleFlag(t){return!t.isRevealed}static checkWinCondition(t){let i=t.width*t.height-t.mineCount;return t.revealedCount===i}static checkGameOver(t){return t.isMine&&t.isRevealed}static getNeighborPositions(t,e,i){let n=[];for(let s=-1;s<=1;s++)for(let d=-1;d<=1;d++){if(s===0&&d===0)continue;let g={x:t.x+s,y:t.y+d};this.isValidPosition(g,e,i)&&n.push(g)}return n}static isValidFlagCount(t,e){return t<=e}};var B=class{static generateMinePositions(t,e,i,n){let s=t*e,d=new Set;if(n){let C=c.getNeighborPositions(n,t,e);d.add(this.positionToString(n)),C.forEach(E=>{d.add(this.positionToString(E))})}let g=[];for(let C=0;C<t;C++)for(let E=0;E<e;E++){let j={x:C,y:E};d.has(this.positionToString(j))||g.push(j)}let D=g.length,oe=Math.min(i,D),H=[],ae=this.shuffleArray([...g]);for(let C=0;C<oe;C++)H.push(ae[C]);return H}static calculateNeighborMineCounts(t,e,i){for(let n=0;n<i;n++)for(let s=0;s<e;s++){let d=t[n][s];d.isMine||(d.neighborMineCount=this.countNeighborMines({x:s,y:n},t,e,i))}}static countNeighborMines(t,e,i,n){return c.getNeighborPositions(t,i,n).reduce((d,g)=>{let D=e[g.y][g.x];return d+(D.isMine?1:0)},0)}static shuffleArray(t){let e=[...t];for(let i=e.length-1;i>0;i--){let n=Math.floor(Math.random()*(i+1));[e[i],e[n]]=[e[n],e[i]]}return e}static positionToString(t){return`${t.x},${t.y}`}static positionsEqual(t,e){return t.x===e.x&&t.y===e.y}};var z={board:[],width:9,height:9,mineCount:10,revealedCount:0,flaggedCount:0,gameStatus:"waiting",gameTime:0,isFirstClick:!0,difficulty:"expert"},W=class l{gameState=_(y({},z));gameTimer=null;isMobile=!1;screenWidth=0;screenHeight=0;setDeviceType(t,e,i){this.isMobile=t,this.screenWidth=e||0,this.screenHeight=i||0}initializeGame(t="expert"){this.stopTimer();let i=L(this.isMobile,this.screenWidth,this.screenHeight)[t];if(!c.isValidGameConfig(i.width,i.height,i.mineCount)){console.error("Invalid game configuration");return}let n=T(y({},z),{width:i.width,height:i.height,mineCount:i.mineCount,difficulty:t,board:this.createEmptyBoard(i.width,i.height)});this.gameState.set(n)}createEmptyBoard(t,e){let i=[];for(let n=0;n<e;n++){i[n]=[];for(let s=0;s<t;s++)i[n][s]={position:{x:s,y:n},isMine:!1,isRevealed:!1,isFlagged:!1,neighborMineCount:0,id:`cell-${s}-${n}`}}return i}initializeMines(t,e){B.generateMinePositions(e.width,e.height,e.mineCount,t).forEach(n=>{e.board[n.y][n.x].isMine=!0}),B.calculateNeighborMineCounts(e.board,e.width,e.height)}revealCell(t){let e=this.gameState();if(!c.canMakeMove(e))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};if(!c.isValidPosition(t,e.width,e.height))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};let i=e.board[t.y][t.x];if(!c.canRevealCell(i))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};e.isFirstClick&&(this.initializeMines(t,e),this.startTimer(),e.gameStatus="playing",e.isFirstClick=!1);let n=this.revealCellRecursive(t,e);return c.checkGameOver(e.board[t.y][t.x])?(e.gameStatus="lost",e.triggeredMinePosition=t,this.stopTimer(),this.revealAllMines(e)):c.checkWinCondition(e)&&(e.gameStatus="won",this.stopTimer()),this.gameState.update(s=>T(y({},s),{board:e.board,revealedCount:e.revealedCount,gameStatus:e.gameStatus,triggeredMinePosition:e.triggeredMinePosition})),{success:!0,gameOver:e.gameStatus!=="playing",cellsRevealed:n,gameStatus:e.gameStatus}}revealCellRecursive(t,e){let i=e.board[t.y][t.x],n=[];return i.isRevealed||i.isFlagged||(i.isRevealed=!0,e.revealedCount++,n.push(t),i.isMine)||i.neighborMineCount===0&&c.getNeighborPositions(t,e.width,e.height).forEach(d=>{let g=e.board[d.y][d.x];if(!g.isRevealed&&!g.isFlagged&&!g.isMine){let D=this.revealCellRecursive(d,e);n.push(...D)}}),n}toggleFlag(t){let e=this.gameState();if(!c.canMakeMove(e)||!c.isValidPosition(t,e.width,e.height))return!1;let i=e.board[t.y][t.x];if(!c.canToggleFlag(i))return!1;if(i.isFlagged)i.isFlagged=!1,e.flaggedCount--;else if(c.isValidFlagCount(e.flaggedCount+1,e.mineCount))i.isFlagged=!0,e.flaggedCount++;else return!1;return this.gameState.update(n=>T(y({},n),{board:e.board,flaggedCount:e.flaggedCount})),!0}revealAllMines(t){for(let e=0;e<t.height;e++)for(let i=0;i<t.width;i++){let n=t.board[e][i];n.isMine&&(n.isRevealed=!0)}}startTimer(){this.gameTimer=window.setInterval(()=>{let t=this.gameState();t.gameTime++,this.gameState.set(y({},t))},1e3)}stopTimer(){this.gameTimer&&(clearInterval(this.gameTimer),this.gameTimer=null)}resetGame(){let t=this.gameState().difficulty;this.initializeGame(t)}setDifficulty(t){this.initializeGame(t)}setCustomGame(t,e,i){if(!c.isValidGameConfig(t,e,i)){console.error("Invalid custom game configuration");return}this.stopTimer();let n=T(y({},z),{width:t,height:e,mineCount:i,difficulty:"custom",board:this.createEmptyBoard(t,e)});this.gameState.set(n)}getRemainingMineCount(){let t=this.gameState();return t.mineCount-t.flaggedCount}cleanup(){this.stopTimer()}static \u0275fac=function(e){return new(e||l)};static \u0275prov=U({token:l,factory:l.\u0275fac,providedIn:"root"})};var ce=(l,t,e,i)=>({"bg-yellow-400 ring-2 ring-yellow-200":l,"bg-red-500":t,"bg-neutral-700":e,"bg-neutral-500":i});function ge(l,t){if(l&1){let e=M();r(0,"div",4)(1,"button",51),f("click",function(){h(e);let n=m();return v(n.gameMode()==="flag"?n.toggleGameMode():null)}),a(2," \u{1F528} "),o(),r(3,"button",51),f("click",function(){h(e);let n=m();return v(n.gameMode()==="dig"?n.toggleGameMode():null)}),a(4," \u{1F6A9} "),o()()}if(l&2){let e=m();u(),p("ngClass",e.gameMode()==="dig"?"bg-lime-700 border-lime-500 text-lime-50 focus:ring-lime-300":"bg-neutral-700 border-neutral-500 text-neutral-300 hover:bg-neutral-600 focus:ring-neutral-300"),u(2),p("ngClass",e.gameMode()==="flag"?"bg-red-700 border-red-500 text-red-50 focus:ring-red-300":"bg-neutral-700 border-neutral-500 text-neutral-300 hover:bg-neutral-600 focus:ring-neutral-300")}}function fe(l,t){if(l&1){let e=M();r(0,"div",8)(1,"button",52),f("click",function(){h(e);let n=m();return v(n.selectDifficulty(n.Difficulty.BEGINNER))}),a(2),o(),F(3,"div",53),r(4,"button",52),f("click",function(){h(e);let n=m();return v(n.selectDifficulty(n.Difficulty.INTERMEDIATE))}),a(5),o(),r(6,"button",52),f("click",function(){h(e);let n=m();return v(n.selectDifficulty(n.Difficulty.EXPERT))}),a(7),o()()}if(l&2){let e=m();u(),p("ngClass",e.isCurrentDifficulty(e.Difficulty.BEGINNER)?"bg-lime-700":""),u(),x(" ",e.getDifficultyName(e.Difficulty.BEGINNER)," "),u(2),p("ngClass",e.isCurrentDifficulty(e.Difficulty.INTERMEDIATE)?"bg-lime-700":""),u(),x(" ",e.getDifficultyName(e.Difficulty.INTERMEDIATE)," "),u(),p("ngClass",e.isCurrentDifficulty(e.Difficulty.EXPERT)?"bg-lime-700":""),u(),x(" ",e.getDifficultyName(e.Difficulty.EXPERT)," ")}}function pe(l,t){if(l&1){let e=M();r(0,"button",54),f("click",function(){h(e);let n=m();return v(n.resetGame())}),a(1," \u91CD\u65B0\u958B\u59CB "),o()}}function be(l,t){if(l&1){let e=M();r(0,"button",55),f("click",function(){h(e);let n=m();return v(n.resetGame())}),a(1," \u65B0\u904A\u6232 "),o()}}function he(l,t){if(l&1){let e=M();r(0,"button",57),f("click",function(){let n=h(e).$implicit,s=m().$implicit,d=m();return v(d.onCellClick({x:n,y:s}))})("contextmenu",function(n){let s=h(e).$implicit,d=m().$implicit,g=m();return v(g.onCellRightClick(n,{x:s,y:d}))}),a(1),o()}if(l&2){let e=t.$implicit,i=m().$implicit,n=m();p("disabled",n.gameState().gameStatus===n.GameStatus.LOST||n.gameState().gameStatus===n.GameStatus.WON)("ngClass",n.cellClasses()[i][e]),u(),x(" ",n.cellContents()[i][e]," ")}}function ve(l,t){if(l&1&&P(0,he,2,3,"button",56,N),l&2){let e=m();G(e.getXIndices())}}function xe(l,t){l&1&&(r(0,"div",27)(1,"span"),a(2,"\u{1F528} \u6316\u6398\u6A21\u5F0F"),o(),r(3,"span"),a(4,"\u{1F6A9} \u6A19\u65D7\u6A21\u5F0F"),o(),r(5,"span"),a(6,"\u{1F446} \u9EDE\u64CA\u64CD\u4F5C"),o()())}function Ce(l,t){l&1&&(r(0,"div",27)(1,"span"),a(2,"\u{1F446} \u5DE6\u9375\u63ED\u958B"),o(),r(3,"span"),a(4,"\u{1F6A9} \u53F3\u9375\u6A19\u8A18"),o()())}function Se(l,t){if(l&1&&F(0,"div",59),l&2){let e,i=t.$implicit,n=m().$implicit,s=m();O("width",s.miniMapCellSize(),"px")("height",s.miniMapCellSize(),"px"),p("ngClass",q(5,ce,((e=s.gameState().triggeredMinePosition)==null?null:e.x)===i&&((e=s.gameState().triggeredMinePosition)==null?null:e.y)===n,s.gameState().board[n][i].isMine&&!(((e=s.gameState().triggeredMinePosition)==null?null:e.x)===i&&((e=s.gameState().triggeredMinePosition)==null?null:e.y)===n),!s.gameState().board[n][i].isMine&&!s.gameState().board[n][i].isRevealed,!s.gameState().board[n][i].isMine&&s.gameState().board[n][i].isRevealed))}}function ye(l,t){if(l&1&&P(0,Se,1,10,"div",58,N),l&2){let e=m();G(e.getXIndices())}}var re=class l{minesweeperService=X(W);platformId=X(Y);gameState=this.minesweeperService.gameState;GameStatus=V;Difficulty=k;difficultyConfigs=b(()=>L(this.isMobile(),this.getScreenWidth(),this.getScreenHeight()));isDropdownOpen=_(!1);isMobile=_(this.checkIsMobile());gameMode=_("dig");gameRules=b(()=>{let t=["\u9EDE\u64CA\u683C\u5B50\u4F86\u63ED\u958B\u5B83\u5011\uFF0C\u907F\u514D\u9EDE\u5230\u5730\u96F7","\u6578\u5B57\u8868\u793A\u8A72\u683C\u5B50\u5468\u570D8\u683C\u4E2D\u5730\u96F7\u7684\u6578\u91CF"],e=this.isMobile()?["\u4F7F\u7528\u6316\u6398\u{1F528}\u548C\u6A19\u65D7\u{1F6A9}\u6309\u9215\u5207\u63DB\u64CD\u4F5C\u6A21\u5F0F","\u6316\u6398\u6A21\u5F0F\uFF1A\u9EDE\u64CA\u63ED\u958B\u683C\u5B50","\u6A19\u65D7\u6A21\u5F0F\uFF1A\u9EDE\u64CA\u6A19\u8A18/\u53D6\u6D88\u6A19\u8A18\u5730\u96F7"]:["\u5DE6\u9375\u9EDE\u64CA\u63ED\u958B\u683C\u5B50","\u53F3\u9375\u9EDE\u64CA\u6A19\u8A18/\u53D6\u6D88\u6A19\u8A18\u5730\u96F7"],i=["\u63ED\u958B\u6240\u6709\u975E\u5730\u96F7\u683C\u5B50\u5373\u53EF\u7372\u52DD","\u9EDE\u5230\u5730\u96F7\u5C31\u6703\u5931\u6557","\u7B2C\u4E00\u6B21\u9EDE\u64CA\u4FDD\u8B49\u4E0D\u6703\u8E29\u5230\u5730\u96F7","\u65D7\u6A19\u6578\u91CF\u4E0D\u80FD\u8D85\u904E\u5730\u96F7\u7E3D\u6578"];return{title:"\u8E29\u5730\u96F7\u904A\u6232\u898F\u5247",rules:[...t,...e,...i]}});remainingMines=b(()=>this.minesweeperService.getRemainingMineCount());formattedTime=b(()=>{let t=this.gameState().gameTime,e=Math.floor(t/60),i=t%60;return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`});cellContents=b(()=>this.gameState().board.map(e=>e.map(i=>i.isFlagged?"\u{1F6A9}":i.isRevealed?i.isMine?"\u{1F4A3}":i.neighborMineCount>0?i.neighborMineCount.toString():"":"")));cellClasses=b(()=>{let t=this.gameState().board,e=this.isMobile();return t.map(i=>i.map(n=>({"w-8 h-8 text-sm":e,"w-5 h-5 text-xs":!e,"bg-neutral-50 hover:bg-neutral-100":!n.isRevealed&&!n.isFlagged,"bg-neutral-300":n.isRevealed&&!n.isMine,"bg-red-500 text-white":n.isRevealed&&n.isMine,"bg-yellow-300":n.isFlagged,"text-blue-600":n.isRevealed&&n.neighborMineCount===1,"text-green-600":n.isRevealed&&n.neighborMineCount===2,"text-red-600":n.isRevealed&&n.neighborMineCount===3,"text-purple-600":n.isRevealed&&n.neighborMineCount===4,"text-yellow-600":n.isRevealed&&n.neighborMineCount===5,"text-pink-600":n.isRevealed&&n.neighborMineCount===6,"text-black":n.isRevealed&&n.neighborMineCount===7,"text-neutral-600":n.isRevealed&&n.neighborMineCount===8})))});gameStatusText=b(()=>{switch(this.gameState().gameStatus){case"waiting":return"\u9EDE\u64CA\u958B\u59CB\u904A\u6232";case"playing":return"\u904A\u6232\u9032\u884C\u4E2D";case"won":return"\u{1F389} \u606D\u559C\u7372\u52DD\uFF01";case"lost":return"\u{1F4A5} \u904A\u6232\u5931\u6557";default:return""}});ngOnInit(){this.minesweeperService.setDeviceType(this.isMobile(),this.getScreenWidth(),this.getScreenHeight()),this.minesweeperService.initializeGame(),A(this.platformId)&&document.addEventListener("click",t=>{!t.target.closest(".dropdown-container")&&this.isDropdownOpen()&&this.closeDropdown()})}ngOnDestroy(){this.minesweeperService.cleanup()}onCellClick(t){let e=this.gameState().board[t.y][t.x];this.isMobile()?this.gameMode()==="dig"?this.minesweeperService.revealCell(t):this.minesweeperService.toggleFlag(t):this.minesweeperService.revealCell(t)}onCellRightClick(t,e){t.preventDefault(),this.isMobile()||this.minesweeperService.toggleFlag(e)}setDifficulty(t){this.minesweeperService.setDifficulty(t)}toggleDropdown(){this.isDropdownOpen.set(!this.isDropdownOpen())}closeDropdown(){this.isDropdownOpen.set(!1)}selectDifficulty(t){this.setDifficulty(t),this.closeDropdown()}resetGame(){this.minesweeperService.resetGame()}getDifficultyName(t){return this.difficultyConfigs()[t].name}isCurrentDifficulty(t){return this.gameState().difficulty===t}getProgressPercentage(){let t=this.gameState(),e=t.width*t.height-t.mineCount;return e===0?0:Math.round(t.revealedCount/e*100)}timelinePercentage=b(()=>{let t=this.gameState().gameTime;return Math.min(t/999*100,100)});timelineColorClass=b(()=>{let t=this.gameState().gameTime;return t>=600?"from-red-500 to-red-300":t>=300?"from-yellow-500 to-yellow-300":"from-lime-500 to-lime-300"});timelineTextClass=b(()=>this.gameState().gameTime>=300?"text-neutral-900/90":"text-white");miniMapCellSize=b(()=>{let t=this.gameState().width,e=this.gameState().height,i=280,n=200,s=Math.floor(i/t),d=Math.floor(n/e);return Math.max(4,Math.min(s,d,12))});checkIsMobile(){return A(this.platformId)?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768:!1}getScreenWidth(){return A(this.platformId)?window.innerWidth:0}getScreenHeight(){return A(this.platformId)?window.innerHeight:0}toggleGameMode(){this.isMobile()&&this.gameMode.set(this.gameMode()==="dig"?"flag":"dig")}getXIndices(){return Array.from({length:this.gameState().width},(t,e)=>e)}getYIndices(){return Array.from({length:this.gameState().height},(t,e)=>e)}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=Z({type:l,selectors:[["app-minesweeper"]],decls:108,vars:36,consts:[[1,"w-full","max-w-sm","mx-auto","flex","flex-col"],[1,"mb-2","flex","flex-col","gap-3","items-stretch"],["title","\u8E29\u5730\u96F7",3,"gameRules"],[1,"flex","gap-2","justify-between"],[1,"flex","gap-2","w-1/2"],[1,"relative","dropdown-container",3,"ngClass"],[1,"h-12","w-full","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-sm","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300","flex","items-center","justify-between","px-3","transition-all",3,"click"],[1,"text-lime-200","font-bold","transition-transform","duration-200"],[1,"absolute","top-14","left-0","w-full","bg-neutral-800","border","border-neutral-600","rounded-md","shadow-lg","z-50"],[1,"h-12","w-1/4","rounded-md","bg-cyan-700","border","border-cyan-500","text-cyan-50","font-semibold","text-base","shadow","hover:bg-cyan-600","focus:outline-none","focus:ring-2","focus:ring-cyan-300"],[1,"h-12","w-1/4","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-base","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300"],[1,"flex","items-center","gap-1","justify-center","flex-wrap","bg-neutral-900/70","rounded-md","p-2","border","border-neutral-700"],[1,"border","border-red-400","bg-red-400/20","px-2","py-1","text-red-300","font-bold","hover:bg-red-400/30","transition"],[1,"text-red-400","text-xs"],[1,"text-center","text-xs"],[1,"border","border-lime-400","bg-lime-400/20","px-2","py-1","text-lime-300","font-bold","hover:bg-lime-400/30","transition"],[1,"text-lime-400","text-xs"],[1,"border","border-yellow-400","bg-yellow-400/20","px-2","py-1","text-yellow-300","font-bold","hover:bg-yellow-400/30","transition"],[1,"text-yellow-400","text-xs"],[1,"border","border-orange-400","bg-orange-400/20","px-2","py-1","text-orange-300","font-bold","hover:bg-orange-400/30","transition"],[1,"text-orange-400","text-xs"],[1,"w-full","mt-2","h-2","bg-neutral-700/80","rounded","overflow-hidden","relative"],[1,"h-full","bg-gradient-to-r","transition-all","duration-300",3,"ngClass"],[1,"absolute","inset-0","text-[9px]","tracking-wide","font-semibold","flex","items-center","justify-center","select-none","transition-colors","duration-300",3,"ngClass"],[1,"flex","justify-center"],[1,"grid","gap-[1px]","p-2","bg-green-900/40","border","border-green-800","touch-none","select-none","mx-auto"],[1,"mt-4","text-center","text-xs","text-zinc-400","px-4"],[1,"flex","justify-center","gap-4"],["theme","red",3,"close","isOpen","showCloseButton","closeOnBackdrop"],[1,"text-3xl","mb-4"],[1,"text-2xl","font-bold","mb-4","text-red-100"],[1,"bg-red-700/50","rounded-lg","p-3","mb-4"],[1,"text-red-200","text-sm","mb-2","text-center"],[1,"grid","gap-[1px]","bg-red-900/40","p-1","rounded"],[1,"text-red-300","text-xs","mt-2","text-center","flex","justify-center","gap-3"],[1,"bg-red-700/50","rounded-lg","p-3","mb-6"],[1,"grid","grid-cols-2","gap-4","text-center"],[1,"bg-red-600/50","rounded-lg","p-3"],[1,"text-red-200"],[1,"text-red-100","font-bold","text-xl"],[1,"bg-red-500","hover:bg-red-400","text-red-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg",3,"click"],["theme","green",3,"close","isOpen","showCloseButton","closeOnBackdrop"],[1,"text-2xl","font-bold","mb-4","text-green-100"],[1,"bg-green-700/50","rounded-lg","p-3","mb-6"],[1,"grid","grid-cols-3","gap-2","text-center"],[1,"bg-green-600/50","rounded-lg","p-3"],[1,"text-green-200"],[1,"text-green-100","font-bold","text-xl"],[1,"flex","gap-2"],[1,"bg-green-500","hover:bg-green-400","text-green-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex-1",3,"click"],[1,"bg-lime-500","hover:bg-lime-400","text-lime-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex-1",3,"click"],[1,"h-12","flex-1","rounded-lg","border","font-bold","text-lg","shadow-lg","focus:outline-none","focus:ring-3","transition-all","flex","items-center","justify-center",3,"click","ngClass"],[1,"w-full","px-3","py-2","text-left","text-sm","text-white","hover:bg-neutral-700",3,"click","ngClass"],[1,"border-t","border-neutral-600"],[1,"h-12","w-1/4","rounded-md","bg-cyan-700","border","border-cyan-500","text-cyan-50","font-semibold","text-base","shadow","hover:bg-cyan-600","focus:outline-none","focus:ring-2","focus:ring-cyan-300",3,"click"],[1,"h-12","w-1/4","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-base","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300",3,"click"],[1,"font-bold","border","border-gray-400","transition-all","duration-150","hover:scale-105","focus:outline-none","focus:ring-1","focus:ring-lime-300",3,"disabled","ngClass"],[1,"font-bold","border","border-gray-400","transition-all","duration-150","hover:scale-105","focus:outline-none","focus:ring-1","focus:ring-lime-300",3,"click","contextmenu","disabled","ngClass"],[3,"width","height","ngClass"],[3,"ngClass"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"header",1),F(2,"app-game-header",2),r(3,"div",3),I(4,ge,5,2,"div",4),r(5,"div",5)(6,"button",6),f("click",function(){return i.toggleDropdown()}),r(7,"span"),a(8),o(),r(9,"span",7),a(10," \u25BC "),o()(),I(11,fe,8,6,"div",8),o(),I(12,pe,2,0,"button",9)(13,be,2,0,"button",10),o(),r(14,"div",11)(15,"div",12)(16,"div",13),a(17,"\u5730\u96F7"),o(),r(18,"div",14),a(19),o()(),r(20,"div",15)(21,"div",16),a(22,"\u9032\u5EA6"),o(),r(23,"div",14),a(24),o()(),r(25,"div",17)(26,"div",18),a(27,"\u5DF2\u958B"),o(),r(28,"div",14),a(29),o()(),r(30,"div",19)(31,"div",20),a(32,"\u65D7\u6A19"),o(),r(33,"div",14),a(34),o()(),r(35,"div",21),F(36,"div",22),r(37,"span",23),a(38),o()()()(),r(39,"main",24)(40,"div",25),P(41,ve,2,0,null,null,N),o()(),r(43,"footer",26),I(44,xe,7,0,"div",27)(45,Ce,5,0,"div",27),o(),r(46,"app-modal",28),f("close",function(){return i.resetGame()}),r(47,"div",29),a(48,"\u{1F4A5}"),o(),r(49,"h2",30),a(50,"\u8E29\u5230\u5730\u96F7\uFF01"),o(),r(51,"div",31)(52,"div",32),a(53,"\u5730\u96F7\u5206\u5E03\u5716"),o(),r(54,"div",24)(55,"div",33),P(56,ye,2,0,null,null,N),o()(),r(58,"div",34)(59,"span"),a(60,"\u{1F7E1} \u89F8\u767C"),o(),r(61,"span"),a(62,"\u{1F534} \u5730\u96F7"),o(),r(63,"span"),a(64,"\u2B1B \u672A\u958B"),o(),r(65,"span"),a(66,"\u2B1C \u5DF2\u958B"),o()()(),r(67,"div",35)(68,"div",36)(69,"div",37)(70,"div",38),a(71,"\u904A\u6232\u6642\u9593"),o(),r(72,"div",39),a(73),o()(),r(74,"div",37)(75,"div",38),a(76,"\u5DF2\u958B\u683C\u5B50"),o(),r(77,"div",39),a(78),o()()()(),r(79,"button",40),f("click",function(){return i.resetGame()}),a(80," \u91CD\u65B0\u958B\u59CB "),o()(),r(81,"app-modal",41),f("close",function(){return i.resetGame()}),r(82,"div",29),a(83,"\u{1F389}"),o(),r(84,"h2",42),a(85,"\u606D\u559C\u7372\u52DD\uFF01"),o(),r(86,"div",43)(87,"div",44)(88,"div",45)(89,"div",46),a(90,"\u96E3\u5EA6"),o(),r(91,"div",47),a(92),o()(),r(93,"div",45)(94,"div",46),a(95,"\u6642\u9593"),o(),r(96,"div",47),a(97),o()(),r(98,"div",45)(99,"div",46),a(100,"\u6548\u7387"),o(),r(101,"div",47),a(102),o()()()(),r(103,"div",48)(104,"button",49),f("click",function(){return i.resetGame()}),a(105," \u518D\u73A9\u4E00\u6B21 "),o(),r(106,"button",50),f("click",function(){return i.setDifficulty(i.gameState().difficulty===i.Difficulty.BEGINNER?i.Difficulty.INTERMEDIATE:i.gameState().difficulty===i.Difficulty.INTERMEDIATE?i.Difficulty.EXPERT:i.Difficulty.BEGINNER)}),a(107),o()()()()),e&2&&(u(2),p("gameRules",i.gameRules()),u(2),R(i.isMobile()?4:-1),u(),p("ngClass",i.isMobile()?"w-1/2":"w-2/4"),u(),$("bg-lime-600",i.isDropdownOpen()),u(2),S(i.getDifficultyName(i.gameState().difficulty)),u(),$("rotate-180",i.isDropdownOpen()),u(2),R(i.isDropdownOpen()?11:-1),u(),R(i.gameState().gameStatus===i.GameStatus.LOST||i.gameState().gameStatus===i.GameStatus.WON?12:13),u(7),S(i.remainingMines()),u(5),x("",i.getProgressPercentage(),"%"),u(5),S(i.gameState().revealedCount),u(5),S(i.gameState().flaggedCount),u(2),O("width",i.timelinePercentage(),"%"),p("ngClass",i.timelineColorClass()),u(),p("ngClass",i.timelineTextClass()),u(),x(" ",i.formattedTime()," "),u(2),O("grid-template-columns","repeat("+i.gameState().width+", "+(i.isMobile()?"32px":"20px")+")"),u(),G(i.getYIndices()),u(3),R(i.isMobile()?44:45),u(2),p("isOpen",i.gameState().gameStatus===i.GameStatus.LOST)("showCloseButton",!1)("closeOnBackdrop",!1),u(9),O("grid-template-columns","repeat("+i.gameState().width+", "+i.miniMapCellSize()+"px)"),u(),G(i.getYIndices()),u(17),S(i.formattedTime()),u(5),S(i.gameState().revealedCount),u(3),p("isOpen",i.gameState().gameStatus===i.GameStatus.WON)("showCloseButton",!1)("closeOnBackdrop",!1),u(11),x(" ",i.getDifficultyName(i.gameState().difficulty)," "),u(5),S(i.formattedTime()),u(5),x("",i.getProgressPercentage(),"%"),u(5),x(" ",i.gameState().difficulty===i.Difficulty.EXPERT?"\u56DE\u5230\u521D\u7D1A":"\u63D0\u5347\u96E3\u5EA6"," "))},dependencies:[J,K,ne,ee,Q],encapsulation:2,changeDetection:0})};export{re as Minesweeper};
