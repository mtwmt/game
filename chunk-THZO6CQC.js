import{A as D,B as v,C as w,D as F,E as h,F as $,G as S,J as q,K as z,N as g,O as W,Q as Z,W as ee,a as _,b as P,c as V,d as B,e as O,f as A,g as X,h as J,j,n as l,o as Q,p as C,q as f,r as L,s as T,t as k,u as I,v as M,w as d,x as c,y as b,z as G}from"./chunk-UIR7DDQE.js";var R=(t=>(t.RED="red",t.BLACK="black",t))(R||{});var U={board:[],currentPlayer:"red",selectedPiece:null,validMoves:[],gameOver:!1,winner:null,moveHistory:[],isInCheck:!1,isSelfInCheck:!1,isVsAI:!0,aiIsThinking:!1,aiThinkingText:""},N=class s{boardCache={kingPositions:new Map,piecesByColor:new Map,lastMoveCount:-1};moveCache=new Map;ORTHOGONAL_DIRECTIONS=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];DIAGONAL_DIRECTIONS=[{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1},{dx:1,dy:1}];initializeBoard(){let e=Array(10).fill(null).map(()=>Array(9).fill(null));return this.setupInitialPieces(e),e}setupInitialPieces(e){let t=["rook","horse","elephant","advisor","king","advisor","elephant","horse","rook"];t.forEach((n,o)=>{let r=this.generatePieceId(n,"red",o);e[9][o]=this.createPiece(r,n,"red",o,9)}),[...t].forEach((n,o)=>{let r=this.generatePieceId(n,"black",o);e[0][o]=this.createPiece(r,n,"black",o,0)}),[1,7].forEach((n,o)=>{e[7][n]=this.createPiece(`r-cannon-${o+1}`,"cannon","red",n,7),e[2][n]=this.createPiece(`b-cannon-${o+1}`,"cannon","black",n,2)});for(let n=0;n<9;n+=2)e[6][n]=this.createPiece(`r-soldier-${n}`,"soldier","red",n,6),e[3][n]=this.createPiece(`b-soldier-${n}`,"soldier","black",n,3)}generatePieceId(e,t,i){let n=t==="red"?"r":"b";return e==="king"?`${n}-king`:`${n}-${e}-${i<4?"1":"2"}`}createPiece(e,t,i,n,o){return{id:e,type:t,color:i,position:{x:n,y:o},isSelected:!1,hasMoved:!1}}initializeGameState(){return P(_({},U),{board:this.initializeBoard()})}isValidPosition(e,t){return e>=0&&e<9&&t>=0&&t<10}isInPalace(e,t,i){return i==="red"?e>=3&&e<=5&&t>=7&&t<=9:e>=3&&e<=5&&t>=0&&t<=2}isOnOwnSide(e,t){return t==="red"?e>=5:e<=4}wouldKingsFaceEachOther(e,t=0){this.updateBoardCache(e,t);let i=this.boardCache.kingPositions.get("red"),n=this.boardCache.kingPositions.get("black");return!i||!n||i.x!==n.x?!1:this.isPathClear(e,i,n)}isPathClear(e,t,i){let n=Math.min(t.y,i.y),o=Math.max(t.y,i.y);for(let r=n+1;r<o;r++)if(e[r][t.x]!==null)return!1;return!0}updateBoardCache(e,t){if(this.boardCache.lastMoveCount!==t){this.boardCache.kingPositions.clear(),this.boardCache.piecesByColor.clear(),this.boardCache.piecesByColor.set("red",[]),this.boardCache.piecesByColor.set("black",[]);for(let i=0;i<10;i++)for(let n=0;n<9;n++){let o=e[i][n];o&&(this.boardCache.piecesByColor.get(o.color).push(o),o.type==="king"&&this.boardCache.kingPositions.set(o.color,{x:n,y:i}))}this.boardCache.lastMoveCount=t}}clearCaches(){this.moveCache.clear(),this.boardCache.lastMoveCount=-1}getBoardHash(e){let t="";for(let i=0;i<10;i++)for(let n=0;n<9;n++){let o=e[i][n];t+=o?`${o.type}${o.color}${n}${i}`:"e"}return t}isValidMoveForPiece(e,t,i){if(!this.isValidPosition(e.x,e.y))return!1;let n=i[e.y][e.x];return!n||n.color!==t.color}getSlidingPieceMoves(e,t,i){let n=[],{x:o,y:r}=e.position;return i.forEach(a=>{for(let u=1;u<10;u++){let m=o+a.dx*u,x=r+a.dy*u;if(!this.isValidPosition(m,x))break;let p=t[x][m];if(p){p.color!==e.color&&n.push({x:m,y:x});break}else n.push({x:m,y:x})}}),n}getPossibleMoves(e,t){let i=`${e.id}-${e.position.x}-${e.position.y}-true`;if(this.moveCache.has(i))return this.moveCache.get(i);let n=this.calculatePieceMoves(e,t,!0);return this.moveCache.set(i,n),n}getPossibleMovesForCheck(e,t){let i=`${e.id}-${e.position.x}-${e.position.y}-false`;if(this.moveCache.has(i))return this.moveCache.get(i);let n=this.calculatePieceMoves(e,t,!1);return this.moveCache.set(i,n),n}calculatePieceMoves(e,t,i){switch(e.type){case"king":return this.getKingMoves(e,t,i);case"advisor":return this.getAdvisorMoves(e,t);case"elephant":return this.getElephantMoves(e,t);case"horse":return this.getHorseMoves(e,t);case"rook":return this.getRookMoves(e,t);case"cannon":return this.getCannonMoves(e,t);case"soldier":return this.getSoldierMoves(e,t);default:return[]}}getKingMoves(e,t,i){let{x:n,y:o}=e.position;return this.ORTHOGONAL_DIRECTIONS.map(a=>({x:n+a.dx,y:o+a.dy})).filter(a=>{if(!this.isValidPosition(a.x,a.y)||!this.isInPalace(a.x,a.y,e.color))return!1;let u=t[a.y][a.x];return u&&u.color===e.color?!1:!i||!this.wouldMoveCreateKingFacing(e,a,t)})}wouldMoveCreateKingFacing(e,t,i){let n=i[t.y][t.x],o=e.position;i[t.y][t.x]=e,i[o.y][o.x]=null,e.position=t;let r=this.wouldKingsFaceEachOther(i);return i[o.y][o.x]=e,i[t.y][t.x]=n,e.position=o,r}getAdvisorMoves(e,t){let{x:i,y:n}=e.position;return this.DIAGONAL_DIRECTIONS.map(r=>({x:i+r.dx,y:n+r.dy})).filter(r=>this.isValidPosition(r.x,r.y)&&this.isInPalace(r.x,r.y,e.color)&&this.isValidMoveForPiece(r,e,t))}getElephantMoves(e,t){let{x:i,y:n}=e.position;return[{x:i-2,y:n-2,block:{x:i-1,y:n-1}},{x:i+2,y:n-2,block:{x:i+1,y:n-1}},{x:i-2,y:n+2,block:{x:i-1,y:n+1}},{x:i+2,y:n+2,block:{x:i+1,y:n+1}}].filter(r=>this.isValidPosition(r.x,r.y)&&this.isOnOwnSide(r.y,e.color)&&!t[r.block.y][r.block.x]&&this.isValidMoveForPiece(r,e,t)).map(r=>({x:r.x,y:r.y}))}getHorseMoves(e,t){let{x:i,y:n}=e.position;return[{x:i-1,y:n-2,block:{x:i,y:n-1}},{x:i+1,y:n-2,block:{x:i,y:n-1}},{x:i-1,y:n+2,block:{x:i,y:n+1}},{x:i+1,y:n+2,block:{x:i,y:n+1}},{x:i-2,y:n-1,block:{x:i-1,y:n}},{x:i-2,y:n+1,block:{x:i-1,y:n}},{x:i+2,y:n-1,block:{x:i+1,y:n}},{x:i+2,y:n+1,block:{x:i+1,y:n}}].filter(r=>this.isValidPosition(r.x,r.y)&&!t[r.block.y][r.block.x]&&this.isValidMoveForPiece(r,e,t)).map(r=>({x:r.x,y:r.y}))}getRookMoves(e,t){return this.getSlidingPieceMoves(e,t,this.ORTHOGONAL_DIRECTIONS)}getCannonMoves(e,t){let i=[],{x:n,y:o}=e.position;return this.ORTHOGONAL_DIRECTIONS.forEach(r=>{let a=!1;for(let u=1;u<10;u++){let m=n+r.dx*u,x=o+r.dy*u;if(!this.isValidPosition(m,x))break;let p=t[x][m];if(p)if(!a)a=!0;else{p.color!==e.color&&i.push({x:m,y:x});break}else a||i.push({x:m,y:x})}}),i}getSoldierMoves(e,t){let i=[],{x:n,y:o}=e.position,r=e.color==="red"?-1:1,a={x:n,y:o+r};return this.isValidMoveForPiece(a,e,t)&&i.push(a),this.isOnOwnSide(o,e.color)||[{x:n-1,y:o},{x:n+1,y:o}].forEach(m=>{this.isValidMoveForPiece(m,e,t)&&i.push(m)}),i}isInCheck(e,t,i=0){this.updateBoardCache(e,i);let n=this.boardCache.kingPositions.get(t);if(!n)return!1;let o=t==="red"?"black":"red";return(this.boardCache.piecesByColor.get(o)||[]).some(a=>this.getPossibleMovesForCheck(a,e).some(m=>m.x===n.x&&m.y===n.y))}makeMove(e,t,i){let{board:n,moveHistory:o}=e,r=n[t.y][t.x];if(!r)return{success:!1};let a=n[i.y][i.x],u=o.length;if(this.clearCaches(),n[i.y][i.x]=r,n[t.y][t.x]=null,r.position=i,a&&a.type==="king")return r.hasMoved=!0,{success:!0,captured:a,isCheck:!1,gameOver:!0,winner:r.color};if(this.wouldKingsFaceEachOther(n,u+1))return r.hasMoved=!0,{success:!0,captured:a||void 0,isCheck:!1,gameOver:!0,winner:r.color==="red"?"black":"red"};let m=r.color==="red"?"black":"red",x=this.isInCheck(n,m,u+1),p=this.isInCheck(n,r.color,u+1);return r.hasMoved=!0,{success:!0,captured:a||void 0,isCheck:x,isSelfInCheck:p}}getPieceSymbol(e){return{king:{red:"\u5E25",black:"\u5C07"},advisor:{red:"\u4ED5",black:"\u58EB"},elephant:{red:"\u76F8",black:"\u8C61"},horse:{red:"\u99AC",black:"\u99AC"},rook:{red:"\u8ECA",black:"\u8ECA"},cannon:{red:"\u70AE",black:"\u7832"},soldier:{red:"\u5175",black:"\u5352"}}[e.type][e.color]}static \u0275fac=function(t){return new(t||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})};var K={king:1e4,rook:500,cannon:450,horse:400,elephant:200,advisor:200,soldier:100},re=[[0,0,0,20,30,20,0,0,0],[0,0,0,10,20,10,0,0,0],[0,0,0,5,10,5,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,-5,-10,-5,0,0,0],[0,0,0,-10,-20,-10,0,0,0],[0,0,0,-20,-30,-20,0,0,0]],ae=[[40,50,50,55,60,55,50,50,40],[30,40,45,50,55,50,45,40,30],[20,30,35,40,45,40,35,30,20],[10,20,25,30,35,30,25,20,10],[5,15,20,25,30,25,20,15,5],[-5,-5,10,15,20,15,10,-5,-5],[-10,-10,0,5,10,5,0,-10,-10],[-15,-15,-5,0,5,0,-5,-15,-15],[-20,-20,-10,-5,0,-5,-10,-20,-20],[-25,-25,-15,-10,-5,-10,-15,-25,-25]],le=[[30,35,40,45,50,45,40,35,30],[25,30,35,40,45,40,35,30,25],[20,25,30,35,40,35,30,25,20],[15,20,25,30,35,30,25,20,15],[10,15,20,25,30,25,20,15,10],[5,10,15,20,25,20,15,10,5],[0,5,10,15,20,15,10,5,0],[-5,0,5,10,15,10,5,0,-5],[-10,-5,0,5,10,5,0,-5,-10],[-15,-10,-5,0,5,0,-5,-10,-15]],ce=[[10,20,30,35,40,35,30,20,10],[15,25,35,40,45,40,35,25,15],[20,30,40,45,50,45,40,30,20],[25,35,45,50,55,50,45,35,25],[20,30,40,45,50,45,40,30,20],[15,25,35,40,45,40,35,25,15],[10,20,30,35,40,35,30,20,10],[5,15,25,30,35,30,25,15,5],[0,10,20,25,30,25,20,10,0],[-5,5,15,20,25,20,15,5,-5]],de=[[0,0,20,0,0,0,20,0,0],[0,0,0,0,0,0,0,0,0],[15,0,0,0,25,0,0,0,15],[0,0,0,0,0,0,0,0,0],[10,0,0,0,20,0,0,0,10],[0,0,0,0,0,0,0,0,0],[-10,0,0,0,-20,0,0,0,-10],[0,0,0,0,0,0,0,0,0],[-15,0,0,0,-25,0,0,0,-15],[0,0,-20,0,0,0,-20,0,0]],ue=[[0,0,0,20,0,20,0,0,0],[0,0,0,0,30,0,0,0,0],[0,0,0,15,0,15,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,-15,0,-15,0,0,0],[0,0,0,0,-30,0,0,0,0],[0,0,0,-20,0,-20,0,0,0]],he=[[15,20,25,30,35,30,25,20,15],[10,15,20,25,30,25,20,15,10],[8,12,16,20,25,20,16,12,8],[6,10,14,18,22,18,14,10,6],[5,8,12,16,20,16,12,8,5],[3,6,9,12,15,12,9,6,3],[2,4,6,8,10,8,6,4,2],[1,2,3,4,5,4,3,2,1],[0,1,2,3,4,3,2,1,0],[0,0,1,2,3,2,1,0,0]],Y={king:re,rook:ae,cannon:le,horse:ce,elephant:de,advisor:ue,soldier:he};function ie(s,e,t,i){if(!Y[s])return 0;if(i==="red"){let n=9-t;return Y[s][n][e]}else return Y[s][t][e]}var H=class s{chessGameService=B(N);maxDepth=4;searchTime=3e3;startTime=0;nodes=0;makeAIMove(e){console.log(`\u{1F9E0} AI\u958B\u59CB\u601D\u8003 (\u6DF1\u5EA6${this.maxDepth}\u5C64)...`),this.startTime=Date.now(),this.nodes=0;try{let t=this.minimax(e,this.maxDepth,-1/0,1/0,!0),i=Date.now()-this.startTime;if(console.log(`\u{1F3AF} AI\u6C7A\u7B56\u5B8C\u6210: ${i}ms, \u641C\u7D22${this.nodes}\u500B\u7BC0\u9EDE`),t&&t.move)return console.log(`\u{1F916} \u9078\u64C7\u79FB\u52D5: (${t.move.from.x},${t.move.from.y}) -> (${t.move.to.x},${t.move.to.y}), \u8A55\u5206: ${t.score}`),t.move;let n=this.getAllPossibleMoves(e,"black");return n.length>0?n[Math.floor(Math.random()*n.length)]:null}catch(t){console.error("\u{1F916} AI\u601D\u8003\u51FA\u932F:",t);let i=this.getAllPossibleMoves(e,"black");return i.length>0?i[0]:null}}minimax(e,t,i,n,o){if(this.nodes++,Date.now()-this.startTime>this.searchTime)return null;if(t===0)return{move:{from:{x:0,y:0},to:{x:0,y:0}},score:this.evaluatePosition(e)};let r=o?"black":"red",a=this.getAllPossibleMoves(e,r);if(a.length===0)return this.chessGameService.isInCheck(e.board,r)?{move:{from:{x:0,y:0},to:{x:0,y:0}},score:o?-1e4:1e4}:{move:{from:{x:0,y:0},to:{x:0,y:0}},score:0};let u=this.orderMoves(e,a),m=null;if(o){let x=-1/0;for(let p of u){let E=this.simulateMove(e,p.from,p.to);if(this.chessGameService.isInCheck(E.board,"black"))continue;let y=this.minimax(E,t-1,i,n,!1);if(y&&y.score>x&&(x=y.score,m=p),i=Math.max(i,x),n<=i)break}return m?{move:m,score:x}:null}else{let x=1/0;for(let p of u){let E=this.simulateMove(e,p.from,p.to);if(this.chessGameService.isInCheck(E.board,"red"))continue;let y=this.minimax(E,t-1,i,n,!0);if(y&&y.score<x&&(x=y.score,m=p),n=Math.min(n,x),n<=i)break}return m?{move:m,score:x}:null}}orderMoves(e,t){return t.sort((i,n)=>{let o=0,r=0,a=e.board[i.to.y][i.to.x],u=e.board[n.to.y][n.to.x];a&&(o+=K[a.type]),u&&(r+=K[u.type]);let m=this.simulateMove(e,i.from,i.to),x=this.simulateMove(e,n.from,n.to);return this.chessGameService.isInCheck(m.board,"red")&&(o+=100),this.chessGameService.isInCheck(x.board,"red")&&(r+=100),r-o})}evaluatePosition(e){let t=0;for(let o=0;o<10;o++)for(let r=0;r<9;r++){let a=e.board[o][r];if(!a)continue;let u=K[a.type];u+=ie(a.type,r,o,a.color),a.color==="black"?t+=u:t-=u}let i=this.getAllPossibleMoves(e,"black").length,n=this.getAllPossibleMoves(e,"red").length;return t+=(i-n)*5,this.chessGameService.isInCheck(e.board,"black")&&(t-=100),this.chessGameService.isInCheck(e.board,"red")&&(t+=100),t}simulateMove(e,t,i){let n=e.board.map(r=>r.map(a=>a?{id:a.id,type:a.type,color:a.color,position:{x:a.position.x,y:a.position.y},isSelected:!1,hasMoved:a.hasMoved}:null)),o=n[t.y][t.x];return o&&(n[i.y][i.x]=o,n[t.y][t.x]=null,o.position={x:i.x,y:i.y},o.hasMoved=!0),P(_({},e),{board:n})}getAllPossibleMoves(e,t){let i=[],n=e.board;for(let o=0;o<10;o++)for(let r=0;r<9;r++){let a=n[o][r];if(a&&a.color===t){let u=this.chessGameService.getPossibleMoves(a,n);for(let m of u)i.push({from:a.position,to:m})}}return i}setDifficulty(e){switch(e){case"easy":this.maxDepth=2,this.searchTime=1e3;break;case"medium":this.maxDepth=4,this.searchTime=3e3;break;case"hard":this.maxDepth=6,this.searchTime=5e3;break}}getThinkingDescription(){return"\u{1F9E0} AI\u6B63\u5728\u4F7F\u7528Minimax\u7B97\u6CD5\u6DF1\u5EA6\u5206\u6790..."}static \u0275fac=function(t){return new(t||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})};var me=()=>[0,1,2,3,4,5,6,7,8,9],xe=()=>[0,1,2,3,4,5,6,7,8],ne=s=>({"valid-move-point":s});function pe(s,e){s&1&&(d(0,"div",8),h(1," \u5C07\u8ECD\uFF01 "),c())}function ve(s,e){s&1&&(d(0,"div",9),h(1,"\u88AB\u5C07\u8ECD\uFF01"),c())}function Ce(s,e){if(s&1){let t=G();d(0,"div",11)(1,"div",47)(2,"span",48),h(3,"\u{1F916} AI\u96E3\u5EA6:"),c(),d(4,"button",49),D("click",function(){O(t);let n=v();return A(n.setAIDifficulty("easy"))}),h(5," \u7C21\u55AE "),c(),d(6,"button",49),D("click",function(){O(t);let n=v();return A(n.setAIDifficulty("medium"))}),h(7," \u4E2D\u7B49 "),c(),d(8,"button",49),D("click",function(){O(t);let n=v();return A(n.setAIDifficulty("hard"))}),h(9," \u56F0\u96E3 "),c()()()}if(s&2){let t=v();l(4),M("ngClass",t.aiDifficulty()==="easy"?"bg-green-600 text-white":"bg-neutral-700 text-neutral-300 hover:bg-neutral-600"),l(2),M("ngClass",t.aiDifficulty()==="medium"?"bg-yellow-600 text-white":"bg-neutral-700 text-neutral-300 hover:bg-neutral-600"),l(2),M("ngClass",t.aiDifficulty()==="hard"?"bg-red-600 text-white":"bg-neutral-700 text-neutral-300 hover:bg-neutral-600")}}function fe(s,e){s&1&&(d(0,"span"),h(1,"\u{1F916}"),c())}function ge(s,e){if(s&1&&(d(0,"div",19)(1,"div",50),h(2,"\u6700\u5F8C\u4E00\u6B65"),c(),d(3,"div",16),h(4),c()()),s&2){let t=v();l(4),S(" ",t.moveHistory()[t.moveHistory().length-1]," ")}}function be(s,e){s&1&&h(0," AI \u601D\u8003\u4E2D... ")}function ye(s,e){if(s&1&&(d(0,"div",26),h(1),c()),s&2){let t=e.$implicit;l(),S(" ",t," ")}}function _e(s,e){if(s&1&&(d(0,"div",29),h(1),c()),s&2){let t=e.$implicit;l(),S(" ",t," ")}}function Pe(s,e){if(s&1&&b(0,"div",51)(1,"div",52),s&2){let t=e.$implicit;F(t===6?"z-20 h-[1.5px]":"z-10"),w("top",t*40+4,"px"),M("ngClass","sm:hidden"),l(),F(t===6?"z-20 h-[1.5px]":"z-10"),w("top",t*50+4,"px")}}function Se(s,e){if(s&1&&b(0,"div",53)(1,"div",53)(2,"div",54)(3,"div",54),s&2){let t=e.$implicit;w("left",t*36+14,"px")("top",4,"px")("height",157,"px"),l(),w("left",t*36+14,"px")("top",203,"px")("height",162,"px"),l(),w("left",t*50+4,"px")("top",4,"px")("height",200,"px"),l(),w("left",t*50+4,"px")("top",254,"px")("height",200,"px")}}function ke(s,e){s&1&&b(0,"div",56)}function Ie(s,e){s&1&&b(0,"div",56)}function Me(s,e){if(s&1&&(d(0,"div",57)(1,"div",64),h(2),c()()),s&2){let t=v().$implicit,i=v(2);M("ngClass",i.getPieceClass(t)),l(),F(t.color===i.PlayerColor.RED?"bg-red-100 border-red-600 text-red-800":"bg-neutral-100 border-neutral-800 text-neutral-800"),l(),S(" ",i.getPieceSymbol(t)," ")}}function Ee(s,e){s&1&&b(0,"div",58)}function De(s,e){s&1&&b(0,"div",59)}function we(s,e){s&1&&b(0,"div",56)}function Oe(s,e){s&1&&b(0,"div",56)}function Ae(s,e){if(s&1&&(d(0,"div",61)(1,"div",65),h(2),c()()),s&2){let t=v().$implicit,i=v(2);M("ngClass",i.getPieceClass(t)),l(),F(t.color===i.PlayerColor.RED?"bg-red-100 border-red-600 text-red-800":"bg-neutral-100 border-neutral-800 text-neutral-800"),l(),S(" ",i.getPieceSymbol(t)," ")}}function Te(s,e){s&1&&b(0,"div",62)}function Re(s,e){s&1&&b(0,"div",63)}function Ne(s,e){if(s&1){let t=G();d(0,"div",55),D("click",function(){let n=O(t).$index,o=v().$index,r=v();return A(r.onSquareClick(n,o))}),C(1,ke,1,0,"div",56),C(2,Ie,1,0,"div",56),C(3,Me,3,4,"div",57),C(4,Ee,1,0,"div",58),C(5,De,1,0,"div",59),c(),d(6,"div",60),D("click",function(){let n=O(t).$index,o=v().$index,r=v();return A(r.onSquareClick(n,o))}),C(7,we,1,0,"div",56),C(8,Oe,1,0,"div",56),C(9,Ae,3,4,"div",61),C(10,Te,1,0,"div",62),C(11,Re,1,0,"div",63),c()}if(s&2){let t=e.$implicit,i=e.$index,n=v().$index,o=v();w("top",n*40+4,"px")("left",i*36+14,"px"),M("ngClass",z(20,ne,o.isValidMove(i,n))),l(),f((n===2||n===7)&&(i===0||i===2||i===4||i===6||i===8)?1:-1),l(),f((n===3||n===6)&&(i===1||i===7)?2:-1),l(),f(t?3:-1),l(),f(o.isValidMove(i,n)&&!t?4:-1),l(),f(o.isValidMove(i,n)&&t&&t.color!==o.currentPlayer()?5:-1),l(),w("top",n*50+4,"px")("left",i*50+4,"px"),M("ngClass",z(22,ne,o.isValidMove(i,n))),l(),f((n===2||n===7)&&(i===0||i===2||i===4||i===6||i===8)?7:-1),l(),f((n===3||n===6)&&(i===1||i===7)?8:-1),l(),f(t?9:-1),l(),f(o.isValidMove(i,n)&&!t?10:-1),l(),f(o.isValidMove(i,n)&&t&&t.color!==o.currentPlayer()?11:-1)}}function Be(s,e){if(s&1&&k(0,Ne,12,24,null,null,L),s&2){let t=e.$implicit;I(t)}}function Fe(s,e){if(s&1&&(d(0,"div",29),h(1),c()),s&2){let t=e.$implicit;l(),S(" ",t," ")}}function Ve(s,e){if(s&1&&(d(0,"div",26),h(1),c()),s&2){let t=e.$implicit;l(),S(" ",t," ")}}function Le(s,e){if(s&1){let t=G();d(0,"div",43)(1,"div",66)(2,"div",67),h(3,"\u{1F3C6}"),c(),d(4,"h2",68),h(5),c(),d(6,"button",69),D("click",function(){O(t);let n=v();return A(n.resetGame())}),h(7," \u91CD\u65B0\u958B\u59CB "),c()()()}if(s&2){let t=v();l(5),S(" ",t.winner()===t.PlayerColor.RED?"\u7D05\u65B9\u7372\u52DD\uFF01":"\u9ED1\u65B9\u7372\u52DD\uFF01"," ")}}function Ge(s,e){if(s&1&&(d(0,"span",76),h(1),c()),s&2){let t=v(2).$index,i=v(2);l(),$(i.moveHistory()[t+1])}}function $e(s,e){if(s&1&&(d(0,"div",73)(1,"span",74),h(2),c(),d(3,"span",75),h(4),c(),C(5,Ge,2,1,"span",76),c()),s&2){let t=v(),i=t.$implicit,n=t.$index,o=v(2);l(2),S("",o.Math.floor(n/2)+1,"."),l(2),$(i),l(),f(o.moveHistory()[n+1]?5:-1)}}function Ke(s,e){if(s&1&&C(0,$e,6,3,"div",73),s&2){let t=e.$index;f(t%2===0?0:-1)}}function He(s,e){if(s&1&&(d(0,"section",44)(1,"h3",70),h(2,"\u68CB\u8B5C\u8A18\u9304"),c(),d(3,"div",71)(4,"div",72),k(5,Ke,1,1,null,null,L),c()()()),s&2){let t=v();l(5),I(t.moveHistory())}}var oe=class s{chessGameService=B(N);chessAIService=B(H);gameState=j(U);board=g(()=>this.gameState().board);currentPlayer=g(()=>this.gameState().currentPlayer);selectedPiece=g(()=>this.gameState().selectedPiece);validMoves=g(()=>this.gameState().validMoves);gameOver=g(()=>this.gameState().gameOver);winner=g(()=>this.gameState().winner);moveHistory=g(()=>this.gameState().moveHistory);isInCheck=g(()=>this.gameState().isInCheck);isSelfInCheck=g(()=>this.gameState().isSelfInCheck);currentPlayerDisplay=g(()=>this.currentPlayer()==="red"?"\u7D05\u65B9":"\u9ED1\u65B9");isVsAI=g(()=>this.gameState().isVsAI);aiIsThinking=g(()=>this.gameState().aiIsThinking);aiThinkingText=g(()=>this.gameState().aiThinkingText);aiDifficulty=j("hard");isAITurn=g(()=>this.isVsAI()&&this.currentPlayer()==="black"&&!this.gameOver());canInteract=g(()=>!this.isVsAI()||this.currentPlayer()==="red");PlayerColor=R;Math=Math;ngOnInit(){this.resetGame()}resetGame(){let e=this.chessGameService.initializeGameState();this.gameState.set(e)}onSquareClick(e,t){if(this.gameOver()||!this.canInteract())return;let i=this.gameState(),n=i.board[t][e];i.selectedPiece?n&&n.color===i.currentPlayer&&n!==i.selectedPiece?this.selectPiece(n):this.isValidMove(e,t)?this.makeMove(i.selectedPiece.position,{x:e,y:t}):this.deselectPiece():n&&n.color===i.currentPlayer&&this.selectPiece(n)}selectPiece(e){let t=this.gameState();t.board.flat().forEach(n=>{n&&(n.isSelected=!1)}),e.isSelected=!0;let i=this.chessGameService.getPossibleMoves(e,t.board);this.gameState.set(P(_({},t),{selectedPiece:e,validMoves:i}))}deselectPiece(){let e=this.gameState();e.selectedPiece&&(e.selectedPiece.isSelected=!1),this.gameState.set(P(_({},e),{selectedPiece:null,validMoves:[]}))}isValidMove(e,t){return this.validMoves().some(i=>i.x===e&&i.y===t)}makeMove(e,t){let i=this.gameState(),n=i.board[e.y][e.x];if(!n)return;let o=this.chessGameService.makeMove(i,e,t);if(o.success){let r=this.generateMoveNotation(n,e,t,o.captured),a=[...i.moveHistory,r],u=i.currentPlayer==="red"?"black":"red",m=o.isCheck||!1,x=o.isSelfInCheck||!1,p=o.isCheckmate||o.isStalemate||o.gameOver||!1,E=o.winner||(o.isCheckmate?i.currentPlayer:null);i.board.flat().forEach(y=>{y&&(y.isSelected=!1)}),this.gameState.set(P(_({},i),{currentPlayer:u,selectedPiece:null,validMoves:[],moveHistory:a,isInCheck:m,isSelfInCheck:x,gameOver:p,winner:E})),console.log("\u6AA2\u67E5AI\u89F8\u767C\u689D\u4EF6:",{gameOver:p,isVsAI:i.isVsAI,nextPlayer:u,shouldTrigger:!p&&i.isVsAI&&u==="black"}),!p&&i.isVsAI&&u==="black"&&(console.log("\u6E96\u5099\u89F8\u767CAI\u79FB\u52D5..."),this.triggerAIMove())}}generateMoveNotation(e,t,i,n){if(!e)return"";let o=x=>{let p=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D"];return x>=1&&x<=9?p[x-1]:x.toString()},r=this.chessGameService.getPieceSymbol(e),a=e.color==="red"?9-t.x:t.x+1,u=i.y-t.y,m="";if(u===0){let x=e.color==="red"?9-i.x:i.x+1;m="\u5E73"+o(x)}else m=(e.color==="red"&&u<0||e.color==="black"&&u>0?"\u9032":"\u9000")+o(Math.abs(u));return`${r}${o(a)}${m}`}getSquareClass(e,t){let i="chess-square";return this.board()[t]?.[e]?.isSelected&&(i+=" selected"),this.isValidMove(e,t)&&(i+=" valid-move"),(this.chessGameService.isInPalace(e,t,"red")||this.chessGameService.isInPalace(e,t,"black"))&&(i+=" palace"),i}getPieceClass(e){if(!e)return"";let t=`chess-piece ${e.color}`;return e.isSelected&&(t+=" selected"),t}getPieceSymbol(e){return e?this.chessGameService.getPieceSymbol(e):""}getRowNumbers(){return Array.from({length:10},(e,t)=>10-t)}getColumnLetters(){return["a","b","c","d","e","f","g","h","i"]}toggleGameMode(){let e=this.gameState(),t=!e.isVsAI;this.gameState.set(P(_({},e),{isVsAI:t,aiIsThinking:!1})),t&&e.currentPlayer==="black"&&!e.gameOver&&this.triggerAIMove()}triggerAIMove(){let e=this.gameState();console.log("\u{1F916} \u89F8\u767CAI\u79FB\u52D5\uFF0C\u7576\u524D\u73A9\u5BB6:",e.currentPlayer),this.chessAIService.setDifficulty(this.aiDifficulty()),this.gameState.set(P(_({},e),{aiIsThinking:!0,aiThinkingText:this.chessAIService.getThinkingDescription()})),setTimeout(()=>{try{let t=this.chessAIService.makeAIMove(e);t?(console.log("\u{1F916} AI\u9078\u64C7\u79FB\u52D5:",t),this.makeAIMove(t.from,t.to)):(console.warn("\u{1F916} AI\u7121\u6CD5\u627E\u5230\u6709\u6548\u79FB\u52D5\uFF0CAI\u6295\u964D"),this.aiSurrender())}catch(t){console.error("\u{1F916} AI\u79FB\u52D5\u51FA\u932F:",t),this.aiSurrender()}},500)}makeAIMove(e,t){let i=this.gameState(),n=i.board[e.y][e.x];if(!n)return;let o=this.chessGameService.makeMove(i,e,t);if(o.success){let r=this.generateMoveNotation(n,e,t,o.captured),a=[...i.moveHistory,r],u="red",m=o.isCheck||!1,x=o.isSelfInCheck||!1,p=o.isCheckmate||o.isStalemate||o.gameOver||!1,E=o.winner||(o.isCheckmate?"black":null);i.board.flat().forEach(y=>{y&&(y.isSelected=!1)}),this.gameState.set(P(_({},i),{currentPlayer:u,selectedPiece:null,validMoves:[],moveHistory:a,isInCheck:m,isSelfInCheck:x,gameOver:p,winner:E,aiIsThinking:!1}))}}aiSurrender(){let e=this.gameState();console.log("\u{1F916} AI\u6295\u964D\uFF0C\u904A\u6232\u7D50\u675F"),this.gameState.set(P(_({},e),{gameOver:!0,winner:"red",aiIsThinking:!1,moveHistory:[...e.moveHistory,"\u{1F916} AI\u6295\u964D"]}))}setAIDifficulty(e){this.aiDifficulty.set(e),console.log("\u{1F916} AI\u96E3\u5EA6\u8A2D\u7F6E\u70BA:",e)}getAIDifficultyText(){switch(this.aiDifficulty()){case"easy":return"\u7C21\u55AE";case"medium":return"\u4E2D\u7B49";case"hard":return"\u56F0\u96E3";default:return"\u4E2D\u7B49"}}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=Q({type:s,selectors:[["app-chinese-chess"]],decls:86,vars:14,consts:[[1,"w-full","max-w-[95vw]","sm:max-w-sm","mx-auto","flex","flex-col","px-2","sm:px-0"],[1,"mb-2","flex","flex-col","gap-3","items-stretch"],[1,"flex","justify-between","items-center"],[1,"text-center","text-2xl","font-bold","tracking-wider","text-lime-400","drop-shadow"],["routerLink","/",1,"text-lime-600","text-sm"],[1,"flex","gap-2","justify-between"],[1,"h-12","w-1/3","touch-btn","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-base","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300","drop-shadow-[0_0_5px_#22d3ee]",3,"click"],[1,"h-12","w-1/3","touch-btn","rounded-md","border","font-medium","shadow","bg-zinc-800"],[1,"text-3xl","text-center","text-amber-300","font-bold","leading-12","animate-pulse"],[1,"text-3xl","text-red-400","animate-pulse"],[1,"h-12","w-1/3","touch-btn","rounded-md","bg-cyan-700","border","border-cyan-500","text-cyan-50","font-semibold","text-base","shadow","hover:bg-cyan-600","focus:outline-none","focus:ring-2","focus:ring-cyan-300",3,"click"],[1,"flex","gap-2","justify-center"],[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-1","flex-wrap","bg-white/10","rounded-md","p-2","border","border-white/20"],[1,"border","border-lime-400","bg-lime-400/20","px-2","py-1","text-lime-300","font-bold","hover:bg-lime-400/30","transition"],[1,"text-lime-400","text-xs"],[1,"text-center","text-xs"],[1,"border","px-2","py-1","font-bold",3,"ngClass"],[1,"text-xs"],[1,"border","border-amber-400","bg-amber-400/20","px-2","py-1","text-amber-300","font-bold"],[1,"w-full","text-center","text-sm","mt-2","h-4","bg-neutral-700/80","rounded","overflow-hidden","relative","animate-pulse","text-white"],[1,"flex","justify-center"],[1,"relative","inline-block"],[1,"chess-board","bg-amber-100","border-2","sm:border-4","border-amber-800","p-2","sm:p-6","relative"],[1,"flex","justify-center","mb-1","sm:mb-2"],[1,"grid","grid-cols-9","gap-0"],[1,"w-[36px]","sm:w-[50px]","text-center","text-xs","font-bold","text-amber-800"],[1,"flex"],[1,"flex","flex-col","justify-center","mr-1","sm:mr-2"],[1,"h-[40px]","sm:h-[50px]","flex","items-center","justify-center","text-xs","font-bold","text-amber-800","w-4","sm:w-6"],[1,"relative","w-[310px]","h-[360px]","sm:w-[408px]","sm:h-[450px]","bg-amber-100"],["viewBox","0 0 100 100",1,"absolute","top-0","left-[122px]","w-[72px]","h-[80px]","sm:hidden"],["x1","0","y1","0","x2","100","y2","100","stroke","#d97706","stroke-width","1"],["x1","100","y1","0","x2","0","y2","100","stroke","#d97706","stroke-width","1"],["viewBox","0 0 100 100",1,"absolute","bottom-0","left-[122px]","w-[72px]","h-[80px]","sm:hidden"],["viewBox","0 0 100 100",1,"absolute","top-0","left-[154px]","w-[100px]","h-[100px]","hidden","sm:block"],["viewBox","0 0 100 100",1,"absolute","bottom-0","left-[154px]","w-[100px]","h-[100px]","hidden","sm:block"],[1,"absolute","left-0","right-0","bg-amber-100","flex","items-center","justify-between","px-8","z-5","sm:hidden",2,"top","161px","height","40px"],[1,"text-amber-700","font-bold","text-xs","tracking-wider"],[1,"absolute","left-0","right-0","bg-amber-100","flex","items-center","justify-between","px-16","z-5","hidden","sm:flex",2,"top","204px","height","50px"],[1,"text-amber-700","font-bold","text-sm","tracking-wider"],[1,"flex","flex-col","justify-center","ml-1","sm:ml-2"],[1,"flex","justify-center","mt-1","sm:mt-2"],[1,"absolute","inset-0","bg-black/50","backdrop-blur-sm","flex","items-center","justify-center","z-50","rounded-lg"],[1,"mt-6"],[1,"mt-4","text-xs","text-amber-600","text-center"],[1,"mb-1"],[1,"flex","items-center","gap-2","bg-neutral-800/50","rounded-lg","p-2","border","border-neutral-600"],[1,"text-amber-300","text-sm","font-medium"],[1,"px-3","py-1","text-xs","rounded","transition-colors",3,"click","ngClass"],[1,"text-amber-400","text-xs"],[1,"absolute","left-0","right-0","h-[1px]","bg-amber-800",3,"ngClass"],[1,"absolute","left-0","right-0","h-[1px]","bg-amber-800","hidden","sm:block"],[1,"absolute","w-[1px]","bg-amber-800","sm:hidden"],[1,"absolute","w-[1px]","bg-amber-800","hidden","sm:block"],[1,"absolute","w-[20px]","h-[20px]","-translate-x-1/2","-translate-y-1/2","rounded-full","hover:bg-amber-200/30","cursor-pointer","z-20","sm:hidden",3,"click","ngClass"],[1,"absolute","w-[6px]","h-[6px]","bg-amber-800","rounded-full","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","w-[32px]","h-[32px]",3,"ngClass"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","w-2","h-2","bg-green-500","rounded-full","opacity-70"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","w-[34px]","h-[34px]","border-2","border-red-500","rounded-full"],[1,"absolute","w-[24px]","h-[24px]","-translate-x-1/2","-translate-y-1/2","rounded-full","hover:bg-amber-200/30","cursor-pointer","z-20","hidden","sm:block",3,"click","ngClass"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","w-[40px]","h-[40px]",3,"ngClass"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","w-3","h-3","bg-green-500","rounded-full","opacity-70"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","w-[42px]","h-[42px]","border-2","border-red-500","rounded-full"],[1,"w-8","h-8","rounded-full","border-2","flex","items-center","justify-center","text-sm","font-bold","shadow-lg"],[1,"w-10","h-10","rounded-full","border-2","flex","items-center","justify-center","text-lg","font-bold","shadow-lg"],[1,"bg-gradient-to-br","from-amber-600","to-amber-800","border-2","border-amber-400","rounded-lg","p-8","shadow-2xl","text-center"],[1,"text-3xl","mb-4"],[1,"text-2xl","font-bold","mb-4","text-amber-100"],[1,"bg-amber-400","hover:bg-amber-300","text-amber-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg",3,"click"],[1,"text-lg","font-bold","text-amber-400","mb-3"],[1,"bg-neutral-900/70","border","border-neutral-700","rounded-md","p-4","max-h-32","overflow-y-auto"],[1,"grid","grid-cols-2","gap-2","text-sm"],[1,"flex","gap-2"],[1,"text-neutral-400"],[1,"text-red-400"],[1,"text-neutral-300"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),h(4," \u4E2D\u570B\u8C61\u68CB "),c(),d(5,"a",4),h(6,"HOME"),c()(),d(7,"div",5)(8,"button",6),D("click",function(){return i.toggleGameMode()}),h(9),c(),d(10,"div",7),C(11,pe,2,0,"div",8),C(12,ve,2,0,"div",9),c(),d(13,"button",10),D("click",function(){return i.resetGame()}),h(14," \u91CD\u65B0\u958B\u59CB "),c()(),C(15,Ce,10,3,"div",11),d(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15),h(20,"\u7576\u524D\u5C0D\u6230"),c(),d(21,"div",16),h(22),c()(),d(23,"div",17)(24,"div",18),h(25,"\u7576\u524D\u56DE\u5408"),c(),d(26,"div",16),C(27,fe,2,0,"span"),h(28),c()(),C(29,ge,5,1,"div",19),d(30,"div",20),C(31,be,1,0),c()()()(),d(32,"main",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"div",25),k(37,ye,2,1,"div",26,T),c()(),d(39,"div",27)(40,"div",28),k(41,_e,2,1,"div",29,T),c(),d(43,"div",30),k(44,Pe,2,9,null,null,T),k(46,Se,4,24,null,null,T),X(),d(48,"svg",31),b(49,"line",32)(50,"line",33),c(),d(51,"svg",34),b(52,"line",32)(53,"line",33),c(),d(54,"svg",35),b(55,"line",32)(56,"line",33),c(),d(57,"svg",36),b(58,"line",32)(59,"line",33),c(),J(),d(60,"div",37)(61,"span",38),h(62,"\u695A\u6CB3"),c(),d(63,"span",38),h(64,"\u6F22\u754C"),c()(),d(65,"div",39)(66,"span",40),h(67,"\u695A\u6CB3"),c(),d(68,"span",40),h(69,"\u6F22\u754C"),c()(),k(70,Be,2,0,null,null,L),c(),d(72,"div",41),k(73,Fe,2,1,"div",29,T),c()(),d(75,"div",42)(76,"div",25),k(77,Ve,2,1,"div",26,T),c()()(),C(79,Le,8,1,"div",43),c()(),C(80,He,7,0,"section",44),d(81,"footer",45)(82,"p",46),h(83,"\u9EDE\u64CA\u9078\u64C7\u68CB\u5B50\uFF0C\u518D\u9EDE\u64CA\u76EE\u6A19\u4F4D\u7F6E\u79FB\u52D5"),c(),d(84,"p"),h(85,"\u7D05\u65B9\u5148\u884C\uFF0C\u5C07\u8ECD\u5C0D\u65B9\u5373\u7372\u52DD"),c()()()),t&2&&(l(9),S(" ",i.isVsAI()?"\u{1F465} \u5207\u63DB\u96D9\u4EBA":"\u{1F916} \u5207\u63DBAI"," "),l(2),f(i.isInCheck()?11:-1),l(),f(i.isSelfInCheck()&&!i.isInCheck()?12:-1),l(3),f(i.isVsAI()?15:-1),l(7),$(i.isVsAI()?"\u{1F916}":"\u{1F465}"),l(),M("ngClass",i.currentPlayer()===i.PlayerColor.RED?"bg-red-500/20 border-red-400 text-red-300":"bg-neutral-800/20 border-neutral-400 text-neutral-300"),l(4),f(i.isVsAI()&&i.currentPlayer()===i.PlayerColor.BLACK?27:-1),l(),S("",i.currentPlayerDisplay()," "),l(),f(i.moveHistory().length>0?29:-1),l(2),f(i.aiIsThinking()?31:-1),l(6),I(i.getColumnLetters()),l(4),I(i.getRowNumbers()),l(3),I(q(12,me)),l(2),I(q(13,xe)),l(24),I(i.board()),l(3),I(i.getRowNumbers()),l(4),I(i.getColumnLetters()),l(2),f(i.gameOver()?79:-1),l(),f(i.moveHistory().length>0?80:-1))},dependencies:[Z,W,ee],styles:['.chess-board[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fed7aa);box-shadow:0 8px 32px #0000004d}.chess-square[_ngcontent-%COMP%]{position:relative;background:transparent;transition:all .2s ease}.chess-square[_ngcontent-%COMP%]:hover{background-color:#f59e0b1a}.chess-square.selected[_ngcontent-%COMP%]{background-color:#22c55e4d!important;border-color:#22c55e!important;box-shadow:inset 0 0 0 2px #22c55e}.chess-square.valid-move[_ngcontent-%COMP%]{background-color:#22c55e26!important}.chess-square.valid-move[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:12px;height:12px;background-color:#22c55e;border-radius:50%;opacity:.8}.chess-square.valid-move[_ngcontent-%COMP%]:hover:after{width:16px;height:16px;opacity:1}.chess-square.palace[_ngcontent-%COMP%]{background-color:#f59e0b0d}.chess-piece[_ngcontent-%COMP%]{transition:all .3s ease;z-index:10}.chess-piece.selected[_ngcontent-%COMP%]{transform:scale(1.1);filter:drop-shadow(0 0 8px rgba(34,197,94,.6))}.chess-piece.red[_ngcontent-%COMP%]   .piece-symbol[_ngcontent-%COMP%]{color:#dc2626;background:linear-gradient(135deg,#fecaca,#fee2e2);border-color:#dc2626}.chess-piece.black[_ngcontent-%COMP%]   .piece-symbol[_ngcontent-%COMP%]{color:#374151;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border-color:#374151}.chess-piece[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.move-history[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#6b7280 #1f2937}.move-history[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.move-history[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f2937;border-radius:3px}.move-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6b7280;border-radius:3px}.move-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@media (max-width: 640px){.chess-board[_ngcontent-%COMP%]{padding:1rem}.chess-board[_ngcontent-%COMP%]   .chess-square[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}.chess-board[_ngcontent-%COMP%]   .chess-piece[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:.875rem}}@keyframes _ngcontent-%COMP%_piece-capture{0%{transform:scale(1);opacity:1}50%{transform:scale(1.3);opacity:.7}to{transform:scale(0);opacity:0}}.captured[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_piece-capture .5s ease-out forwards}@keyframes _ngcontent-%COMP%_check-warning{0%,to{box-shadow:0 0 #ef4444b3}50%{box-shadow:0 0 0 10px #ef444400}}.in-check[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_check-warning 1s infinite}.valid-move-point.valid-move[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:10px;height:10px;background-color:#22c55e;border-radius:50%;opacity:.7}.valid-move-point[_ngcontent-%COMP%]:hover{background-color:#f59e0b33}']})};export{oe as ChineseChess};
