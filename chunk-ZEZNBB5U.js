import{a as ie,b as ne}from"./chunk-XSR2BEZR.js";import{a as re}from"./chunk-HBQJJNCN.js";import{a as ee,b as te}from"./chunk-A5EABR2Y.js";import{A as W,B as f,C as r,D as a,E as F,F as E,G as p,H as c,K as X,L as U,N as s,O as b,P as h,U as $,X as x,_ as J,a as w,aa as Q,b as N,ba as P,d as Z,g as V,h as v,i as C,m as T,o as q,s as u,t as K,v as D,w as _,y as L,z as j}from"./chunk-GC2AWETS.js";var G=(n=>(n.WAITING="waiting",n.PLAYING="playing",n.WON="won",n.LOST="lost",n))(G||{}),O=(n=>(n.BEGINNER="beginner",n.INTERMEDIATE="intermediate",n.EXPERT="expert",n.CUSTOM="custom",n))(O||{});var se={beginner:{width:9,height:9,mineCount:10,name:"\u521D\u7D1A"},intermediate:{width:16,height:16,mineCount:40,name:"\u4E2D\u7D1A"},expert:{width:30,height:16,mineCount:99,name:"\u5C08\u5BB6"},custom:{width:16,height:16,mineCount:40,name:"\u81EA\u8A02"}},le={beginner:{width:8,height:8,mineCount:8,name:"\u521D\u7D1A"},intermediate:{width:11,height:11,mineCount:20,name:"\u4E2D\u7D1A"},expert:{width:12,height:15,mineCount:40,name:"\u5C08\u5BB6"},custom:{width:11,height:11,mineCount:20,name:"\u81EA\u8A02"}};function ue(l,t){let e=ne(l,t,ie);return{width:e.width,height:e.height,mineCount:e.elementCount}}function de(l,t){let e=ue(l,t);return{beginner:{width:8,height:8,mineCount:8,name:"\u521D\u7D1A"},intermediate:{width:11,height:11,mineCount:20,name:"\u4E2D\u7D1A"},expert:{width:e.width,height:e.height,mineCount:e.mineCount,name:"\u5C08\u5BB6"},custom:{width:11,height:11,mineCount:20,name:"\u81EA\u8A02"}}}function k(l,t,e){return l&&t&&e?de(t,e):l?le:se}var I={MIN_BOARD_SIZE:5,MAX_BOARD_SIZE:50,MIN_MINE_COUNT:1,CELL_SIZE:32,FLAG_CHAR:"\u{1F6A9}",MINE_CHAR:"\u{1F4A3}",EXPLOSION_CHAR:"\u{1F4A5}"};var g=class{static isValidPosition(t,e,i){return t.x>=0&&t.x<e&&t.y>=0&&t.y<i}static isValidGameConfig(t,e,i){let n=t*e;return t>=I.MIN_BOARD_SIZE&&e>=I.MIN_BOARD_SIZE&&t<=I.MAX_BOARD_SIZE&&e<=I.MAX_BOARD_SIZE&&i>=I.MIN_MINE_COUNT&&i<n}static canMakeMove(t){return t.gameStatus==="playing"||t.gameStatus==="waiting"}static canRevealCell(t){return!t.isRevealed&&!t.isFlagged}static canToggleFlag(t){return!t.isRevealed}static checkWinCondition(t){let i=t.width*t.height-t.mineCount;return t.revealedCount===i}static checkGameOver(t){return t.isMine&&t.isRevealed}static getNeighborPositions(t,e,i){let n=[];for(let m=-1;m<=1;m++)for(let d=-1;d<=1;d++){if(m===0&&d===0)continue;let o={x:t.x+m,y:t.y+d};this.isValidPosition(o,e,i)&&n.push(o)}return n}static isValidFlagCount(t,e){return t<=e}};var A=class{static generateMinePositions(t,e,i,n){let m=t*e,d=new Set;if(n){let y=g.getNeighborPositions(n,t,e);d.add(this.positionToString(n)),y.forEach(R=>{d.add(this.positionToString(R))})}let o=[];for(let y=0;y<t;y++)for(let R=0;R<e;R++){let z={x:y,y:R};d.has(this.positionToString(z))||o.push(z)}let M=o.length,S=Math.min(i,M),Y=[],ae=this.shuffleArray([...o]);for(let y=0;y<S;y++)Y.push(ae[y]);return Y}static calculateNeighborMineCounts(t,e,i){for(let n=0;n<i;n++)for(let m=0;m<e;m++){let d=t[n][m];d.isMine||(d.neighborMineCount=this.countNeighborMines({x:m,y:n},t,e,i))}}static countNeighborMines(t,e,i,n){return g.getNeighborPositions(t,i,n).reduce((d,o)=>{let M=e[o.y][o.x];return d+(M.isMine?1:0)},0)}static shuffleArray(t){let e=[...t];for(let i=e.length-1;i>0;i--){let n=Math.floor(Math.random()*(i+1));[e[i],e[n]]=[e[n],e[i]]}return e}static positionToString(t){return`${t.x},${t.y}`}static positionsEqual(t,e){return t.x===e.x&&t.y===e.y}};var H={board:[],width:9,height:9,mineCount:10,revealedCount:0,flaggedCount:0,gameStatus:"waiting",gameTime:0,isFirstClick:!0,difficulty:"expert"},B=class l{gameState=T(w({},H));gameTimer=null;isMobile=!1;screenWidth=0;screenHeight=0;setDeviceType(t,e,i){this.isMobile=t,this.screenWidth=e||0,this.screenHeight=i||0}initializeGame(t="expert"){this.stopTimer();let i=k(this.isMobile,this.screenWidth,this.screenHeight)[t];if(!g.isValidGameConfig(i.width,i.height,i.mineCount)){console.error("Invalid game configuration");return}let n=N(w({},H),{width:i.width,height:i.height,mineCount:i.mineCount,difficulty:t,board:this.createEmptyBoard(i.width,i.height)});this.gameState.set(n)}createEmptyBoard(t,e){let i=[];for(let n=0;n<e;n++){i[n]=[];for(let m=0;m<t;m++)i[n][m]={position:{x:m,y:n},isMine:!1,isRevealed:!1,isFlagged:!1,neighborMineCount:0,id:`cell-${m}-${n}`}}return i}initializeMines(t,e){A.generateMinePositions(e.width,e.height,e.mineCount,t).forEach(n=>{e.board[n.y][n.x].isMine=!0}),A.calculateNeighborMineCounts(e.board,e.width,e.height)}revealCell(t){let e=this.gameState();if(!g.canMakeMove(e))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};if(!g.isValidPosition(t,e.width,e.height))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};let i=e.board[t.y][t.x];if(!g.canRevealCell(i))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};e.isFirstClick&&(this.initializeMines(t,e),this.startTimer(),e.gameStatus="playing",e.isFirstClick=!1);let n=this.revealCellRecursive(t,e);return g.checkGameOver(e.board[t.y][t.x])?(e.gameStatus="lost",e.triggeredMinePosition=t,this.stopTimer(),this.revealAllMines(e)):g.checkWinCondition(e)&&(e.gameStatus="won",this.stopTimer()),this.gameState.update(m=>N(w({},m),{board:e.board,revealedCount:e.revealedCount,gameStatus:e.gameStatus,triggeredMinePosition:e.triggeredMinePosition})),{success:!0,gameOver:e.gameStatus!=="playing",cellsRevealed:n,gameStatus:e.gameStatus}}revealCellRecursive(t,e){let i=e.board[t.y][t.x],n=[];return i.isRevealed||i.isFlagged||(i.isRevealed=!0,e.revealedCount++,n.push(t),i.isMine)||i.neighborMineCount===0&&g.getNeighborPositions(t,e.width,e.height).forEach(d=>{let o=e.board[d.y][d.x];if(!o.isRevealed&&!o.isFlagged&&!o.isMine){let M=this.revealCellRecursive(d,e);n.push(...M)}}),n}toggleFlag(t){let e=this.gameState();if(!g.canMakeMove(e)||!g.isValidPosition(t,e.width,e.height))return!1;let i=e.board[t.y][t.x];if(!g.canToggleFlag(i))return!1;if(i.isFlagged)i.isFlagged=!1,e.flaggedCount--;else if(g.isValidFlagCount(e.flaggedCount+1,e.mineCount))i.isFlagged=!0,e.flaggedCount++;else return!1;return this.gameState.update(n=>N(w({},n),{board:e.board,flaggedCount:e.flaggedCount})),!0}revealAllMines(t){for(let e=0;e<t.height;e++)for(let i=0;i<t.width;i++){let n=t.board[e][i];n.isMine&&(n.isRevealed=!0)}}startTimer(){this.gameTimer=window.setInterval(()=>{let t=this.gameState();t.gameTime++,this.gameState.set(w({},t))},1e3)}stopTimer(){this.gameTimer&&(clearInterval(this.gameTimer),this.gameTimer=null)}resetGame(){let t=this.gameState().difficulty;this.initializeGame(t)}setDifficulty(t){this.initializeGame(t)}setCustomGame(t,e,i){if(!g.isValidGameConfig(t,e,i)){console.error("Invalid custom game configuration");return}this.stopTimer();let n=N(w({},H),{width:t,height:e,mineCount:i,difficulty:"custom",board:this.createEmptyBoard(t,e)});this.gameState.set(n)}getRemainingMineCount(){let t=this.gameState();return t.mineCount-t.flaggedCount}cleanup(){this.stopTimer()}static \u0275fac=function(e){return new(e||l)};static \u0275prov=Z({token:l,factory:l.\u0275fac,providedIn:"root"})};var ce=(l,t)=>({"border-lime-400 bg-lime-400/20 text-lime-300":l,"border-red-400 bg-red-400/20 text-red-300":t}),ge=(l,t)=>({"text-lime-400":l,"text-red-400":t});function fe(l,t){if(l&1){let e=E();r(0,"div",4)(1,"button",41),p("click",function(){v(e);let n=c();return C(n.toggleGameMode())}),r(2,"span",42),s(3),a(),r(4,"span",43),s(5),a()()()}if(l&2){let e=c();u(),f("ngClass",e.gameMode()==="dig"?"bg-lime-700 border-lime-500 text-lime-50 focus:ring-lime-300 hover:bg-lime-600":"bg-red-700 border-red-500 text-red-50 focus:ring-red-300 hover:bg-red-600"),u(2),b(e.gameMode()==="dig"?"\u{1F528}":"\u{1F6A9}"),u(2),b(e.gameMode()==="dig"?"\u6316\u6398":"\u6A19\u65D7")}}function pe(l,t){if(l&1){let e=E();r(0,"div",8)(1,"button",44),p("click",function(){v(e);let n=c();return C(n.selectDifficulty(n.Difficulty.BEGINNER))}),s(2),a(),F(3,"div",45),r(4,"button",44),p("click",function(){v(e);let n=c();return C(n.selectDifficulty(n.Difficulty.INTERMEDIATE))}),s(5),a(),r(6,"button",44),p("click",function(){v(e);let n=c();return C(n.selectDifficulty(n.Difficulty.EXPERT))}),s(7),a()()}if(l&2){let e=c();u(),f("ngClass",e.isCurrentDifficulty(e.Difficulty.BEGINNER)?"bg-lime-700":""),u(),h(" ",e.getDifficultyName(e.Difficulty.BEGINNER)," "),u(2),f("ngClass",e.isCurrentDifficulty(e.Difficulty.INTERMEDIATE)?"bg-lime-700":""),u(),h(" ",e.getDifficultyName(e.Difficulty.INTERMEDIATE)," "),u(),f("ngClass",e.isCurrentDifficulty(e.Difficulty.EXPERT)?"bg-lime-700":""),u(),h(" ",e.getDifficultyName(e.Difficulty.EXPERT)," ")}}function be(l,t){if(l&1){let e=E();r(0,"button",46),p("click",function(){v(e);let n=c();return C(n.resetGame())}),s(1," \u91CD\u65B0\u958B\u59CB "),a()}}function he(l,t){if(l&1){let e=E();r(0,"button",47),p("click",function(){v(e);let n=c();return C(n.resetGame())}),s(1," \u65B0\u904A\u6232 "),a()}}function xe(l,t){if(l&1&&(r(0,"div",21)(1,"div",48),s(2," \u6A21\u5F0F "),a(),r(3,"div",14),s(4),a()()),l&2){let e=c();f("ngClass",$(3,ce,e.gameMode()==="dig",e.gameMode()==="flag")),u(),f("ngClass",$(6,ge,e.gameMode()==="dig",e.gameMode()==="flag")),u(3),b(e.gameMode()==="dig"?"\u{1F528}":"\u{1F6A9}")}}function ve(l,t){if(l&1){let e=E();r(0,"button",50),p("click",function(){let n=v(e).$implicit,m=c().$implicit,d=c();return C(d.onCellClick({x:n,y:m}))})("contextmenu",function(n){let m=v(e).$implicit,d=c().$implicit,o=c();return C(o.onCellRightClick(n,{x:m,y:d}))}),s(1),a()}if(l&2){let e=t.$implicit,i=c().$implicit,n=c();f("disabled",n.gameState().gameStatus===n.GameStatus.LOST||n.gameState().gameStatus===n.GameStatus.WON)("ngClass",n.cellClasses()[i][e]),u(),h(" ",n.cellContents()[i][e]," ")}}function Ce(l,t){if(l&1&&j(0,ve,2,3,"button",49,L),l&2){let e=c();W(e.getXIndices())}}function Se(l,t){if(l&1){let e=E();r(0,"div",28)(1,"div",51),s(2," \u{1F4A5} \u8E29\u5230\u5730\u96F7\uFF01 "),a(),r(3,"div",52)(4,"div",53)(5,"div",54),s(6,"\u904A\u6232\u6642\u9593"),a(),r(7,"div",55),s(8),a()(),r(9,"div",53)(10,"div",54),s(11,"\u5DF2\u958B\u683C\u5B50"),a(),r(12,"div",55),s(13),a()(),r(14,"div",53)(15,"div",54),s(16,"\u5B8C\u6210\u5EA6"),a(),r(17,"div",55),s(18),a()()(),r(19,"div",56)(20,"span"),s(21,"\u{1F4A5} \u89F8\u767C\u5730\u96F7"),a(),r(22,"span"),s(23,"\u{1F4A3} \u5176\u4ED6\u5730\u96F7"),a(),r(24,"span"),s(25,"\u274C \u932F\u8AA4\u6A19\u8A18"),a()(),r(26,"button",57),p("click",function(){v(e);let n=c();return C(n.resetGame())}),s(27," \u91CD\u65B0\u958B\u59CB "),a()()}if(l&2){let e=c();u(8),b(e.formattedTime()),u(5),b(e.gameState().revealedCount),u(5),h("",e.getProgressPercentage(),"%")}}function ye(l,t){l&1&&(r(0,"div",29)(1,"span"),s(2,"\u{1F504} \u9EDE\u64CA\u6309\u9215\u5207\u63DB\u6A21\u5F0F"),a(),r(3,"span"),s(4,"\u{1F446} \u9EDE\u64CA\u683C\u5B50\u64CD\u4F5C"),a()())}function Me(l,t){l&1&&(r(0,"div",29)(1,"span"),s(2,"\u{1F446} \u5DE6\u9375\u63ED\u958B"),a(),r(3,"span"),s(4,"\u{1F6A9} \u53F3\u9375\u6A19\u8A18"),a()())}var oe=class l{minesweeperService=V(B);platformId=V(q);gameState=this.minesweeperService.gameState;GameStatus=G;Difficulty=O;difficultyConfigs=x(()=>k(this.isMobile(),this.getScreenWidth(),this.getScreenHeight()));isDropdownOpen=T(!1);isMobile=T(this.checkIsMobile());gameMode=T("dig");gameRules=x(()=>{let t=["\u9EDE\u64CA\u683C\u5B50\u4F86\u63ED\u958B\u5B83\u5011\uFF0C\u907F\u514D\u9EDE\u5230\u5730\u96F7","\u6578\u5B57\u8868\u793A\u8A72\u683C\u5B50\u5468\u570D8\u683C\u4E2D\u5730\u96F7\u7684\u6578\u91CF"],e=this.isMobile()?["\u9EDE\u64CA\u5207\u63DB\u6309\u9215\u4F86\u5207\u63DB\u6316\u6398\u{1F528}\u548C\u6A19\u65D7\u{1F6A9}\u6A21\u5F0F","\u6316\u6398\u6A21\u5F0F\uFF1A\u9EDE\u64CA\u63ED\u958B\u683C\u5B50","\u6A19\u65D7\u6A21\u5F0F\uFF1A\u9EDE\u64CA\u6A19\u8A18/\u53D6\u6D88\u6A19\u8A18\u5730\u96F7"]:["\u5DE6\u9375\u9EDE\u64CA\u63ED\u958B\u683C\u5B50","\u53F3\u9375\u9EDE\u64CA\u6A19\u8A18/\u53D6\u6D88\u6A19\u8A18\u5730\u96F7"],i=["\u63ED\u958B\u6240\u6709\u975E\u5730\u96F7\u683C\u5B50\u5373\u53EF\u7372\u52DD","\u9EDE\u5230\u5730\u96F7\u5C31\u6703\u5931\u6557","\u7B2C\u4E00\u6B21\u9EDE\u64CA\u4FDD\u8B49\u4E0D\u6703\u8E29\u5230\u5730\u96F7","\u65D7\u6A19\u6578\u91CF\u4E0D\u80FD\u8D85\u904E\u5730\u96F7\u7E3D\u6578"];return{title:"\u8E29\u5730\u96F7\u904A\u6232\u898F\u5247",rules:[...t,...e,...i]}});remainingMines=x(()=>this.minesweeperService.getRemainingMineCount());formattedTime=x(()=>{let t=this.gameState().gameTime,e=Math.floor(t/60),i=t%60;return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`});cellContents=x(()=>{let t=this.gameState().board,e=this.gameState().gameStatus,i=this.gameState().triggeredMinePosition;return t.map((n,m)=>n.map((d,o)=>e==="lost"?d.isMine?i&&i.x===o&&i.y===m?"\u{1F4A5}":"\u{1F4A3}":d.isFlagged&&!d.isMine?"\u274C":d.isRevealed&&d.neighborMineCount>0?d.neighborMineCount.toString():"":d.isFlagged?"\u{1F6A9}":d.isRevealed?d.isMine?"\u{1F4A3}":d.neighborMineCount>0?d.neighborMineCount.toString():"":""))});cellClasses=x(()=>{let t=this.gameState().board,e=this.isMobile(),i=this.gameState().gameStatus,n=this.gameState().triggeredMinePosition;return t.map((m,d)=>m.map((o,M)=>{let S={"w-8 h-8 text-sm":e,"w-5 h-5 text-xs":!e};return i==="lost"?o.isMine?n&&n.x===M&&n.y===d?Object.assign(S,{"bg-yellow-500 text-red-900 animate-pulse ring-4 ring-yellow-300":!0,"font-black":!0}):Object.assign(S,{"bg-red-500 text-white":!0}):o.isFlagged?Object.assign(S,{"bg-orange-400 text-white":!0}):o.isRevealed?Object.assign(S,{"bg-neutral-300":!0,"text-blue-600":o.neighborMineCount===1,"text-green-600":o.neighborMineCount===2,"text-red-600":o.neighborMineCount===3,"text-purple-600":o.neighborMineCount===4,"text-yellow-600":o.neighborMineCount===5,"text-pink-600":o.neighborMineCount===6,"text-black":o.neighborMineCount===7,"text-neutral-600":o.neighborMineCount===8}):Object.assign(S,{"bg-neutral-200":!0}):Object.assign(S,{"bg-neutral-50 hover:bg-neutral-100":!o.isRevealed&&!o.isFlagged,"bg-neutral-300":o.isRevealed&&!o.isMine,"bg-red-500 text-white":o.isRevealed&&o.isMine,"bg-yellow-300":o.isFlagged,"text-blue-600":o.isRevealed&&o.neighborMineCount===1,"text-green-600":o.isRevealed&&o.neighborMineCount===2,"text-red-600":o.isRevealed&&o.neighborMineCount===3,"text-purple-600":o.isRevealed&&o.neighborMineCount===4,"text-yellow-600":o.isRevealed&&o.neighborMineCount===5,"text-pink-600":o.isRevealed&&o.neighborMineCount===6,"text-black":o.isRevealed&&o.neighborMineCount===7,"text-neutral-600":o.isRevealed&&o.neighborMineCount===8}),S}))});gameStatusText=x(()=>{switch(this.gameState().gameStatus){case"waiting":return"\u9EDE\u64CA\u958B\u59CB\u904A\u6232";case"playing":return"\u904A\u6232\u9032\u884C\u4E2D";case"won":return"\u{1F389} \u606D\u559C\u7372\u52DD\uFF01";case"lost":return"\u{1F4A5} \u904A\u6232\u5931\u6557";default:return""}});ngOnInit(){this.minesweeperService.setDeviceType(this.isMobile(),this.getScreenWidth(),this.getScreenHeight()),this.minesweeperService.initializeGame(),P(this.platformId)&&document.addEventListener("click",t=>{!t.target.closest(".dropdown-container")&&this.isDropdownOpen()&&this.closeDropdown()})}ngOnDestroy(){this.minesweeperService.cleanup()}onCellClick(t){let e=this.gameState().board[t.y][t.x];this.isMobile()?this.gameMode()==="dig"?this.minesweeperService.revealCell(t):this.minesweeperService.toggleFlag(t):this.minesweeperService.revealCell(t)}onCellRightClick(t,e){t.preventDefault(),this.isMobile()||this.minesweeperService.toggleFlag(e)}setDifficulty(t){this.minesweeperService.setDifficulty(t)}toggleDropdown(){this.isDropdownOpen.set(!this.isDropdownOpen())}closeDropdown(){this.isDropdownOpen.set(!1)}selectDifficulty(t){this.setDifficulty(t),this.closeDropdown()}resetGame(){this.minesweeperService.resetGame()}getDifficultyName(t){return this.difficultyConfigs()[t].name}isCurrentDifficulty(t){return this.gameState().difficulty===t}getProgressPercentage(){let t=this.gameState(),e=t.width*t.height-t.mineCount;return e===0?0:Math.round(t.revealedCount/e*100)}timelinePercentage=x(()=>{let t=this.gameState().gameTime;return Math.min(t/999*100,100)});timelineColorClass=x(()=>{let t=this.gameState().gameTime;return t>=600?"from-red-500 to-red-300":t>=300?"from-yellow-500 to-yellow-300":"from-lime-500 to-lime-300"});timelineTextClass=x(()=>this.gameState().gameTime>=300?"text-neutral-900/90":"text-white");checkIsMobile(){return P(this.platformId)?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768:!1}getScreenWidth(){return P(this.platformId)?window.innerWidth:0}getScreenHeight(){return P(this.platformId)?window.innerHeight:0}toggleGameMode(){this.isMobile()&&this.gameMode.set(this.gameMode()==="dig"?"flag":"dig")}getXIndices(){return Array.from({length:this.gameState().width},(t,e)=>e)}getYIndices(){return Array.from({length:this.gameState().height},(t,e)=>e)}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=K({type:l,selectors:[["app-minesweeper"]],decls:75,vars:31,consts:[[1,"w-full","max-w-sm","mx-auto","flex","flex-col"],[1,"mb-2","flex","flex-col","gap-3","items-stretch"],["title","\u8E29\u5730\u96F7",3,"gameRules"],[1,"flex","gap-2","justify-between"],[1,"w-1/4"],[1,"relative","dropdown-container",3,"ngClass"],[1,"h-12","w-full","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-sm","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300","flex","items-center","justify-between","px-3","transition-all",3,"click"],[1,"text-lime-200","font-bold","transition-transform","duration-200"],[1,"absolute","top-14","left-0","w-full","bg-neutral-800","border","border-neutral-600","rounded-md","shadow-lg","z-50"],[1,"h-12","w-1/4","rounded-md","bg-cyan-700","border","border-cyan-500","text-cyan-50","font-semibold","text-base","shadow","hover:bg-cyan-600","focus:outline-none","focus:ring-2","focus:ring-cyan-300"],[1,"h-12","w-1/4","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-base","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300"],[1,"flex","items-center","gap-1","justify-center","flex-wrap","bg-neutral-900/70","rounded-md","p-2","border","border-neutral-700"],[1,"border","border-red-400","bg-red-400/20","px-2","py-1","text-red-300","font-bold","hover:bg-red-400/30","transition"],[1,"text-red-400","text-xs"],[1,"text-center","text-xs"],[1,"border","border-lime-400","bg-lime-400/20","px-2","py-1","text-lime-300","font-bold","hover:bg-lime-400/30","transition"],[1,"text-lime-400","text-xs"],[1,"border","border-yellow-400","bg-yellow-400/20","px-2","py-1","text-yellow-300","font-bold","hover:bg-yellow-400/30","transition"],[1,"text-yellow-400","text-xs"],[1,"border","border-orange-400","bg-orange-400/20","px-2","py-1","text-orange-300","font-bold","hover:bg-orange-400/30","transition"],[1,"text-orange-400","text-xs"],[1,"border","px-2","py-1","font-bold","transition-colors","duration-300",3,"ngClass"],[1,"w-full","mt-2","h-2","bg-neutral-700/80","rounded","overflow-hidden","relative"],[1,"h-full","bg-gradient-to-r","transition-all","duration-300",3,"ngClass"],[1,"absolute","inset-0","text-[9px]","tracking-wide","font-semibold","flex","items-center","justify-center","select-none","transition-colors","duration-300",3,"ngClass"],[1,"flex","justify-center"],[1,"grid","gap-[1px]","p-2","bg-green-900/40","border","border-green-800","touch-none","select-none","mx-auto"],[1,"mt-4","text-center","text-xs","text-zinc-400","px-4"],[1,"mb-4","bg-red-700/20","border","border-red-600","rounded-lg","p-4"],[1,"flex","justify-center","gap-4"],["theme","green",3,"close","isOpen","showCloseButton","closeOnBackdrop"],[1,"text-3xl","mb-4"],[1,"text-2xl","font-bold","mb-4","text-green-100"],[1,"bg-green-700/50","rounded-lg","p-3","mb-6"],[1,"grid","grid-cols-3","gap-2","text-center"],[1,"bg-green-600/50","rounded-lg","p-3"],[1,"text-green-200"],[1,"text-green-100","font-bold","text-xl"],[1,"flex","gap-2"],[1,"bg-green-500","hover:bg-green-400","text-green-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex-1",3,"click"],[1,"bg-lime-500","hover:bg-lime-400","text-lime-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex-1",3,"click"],[1,"h-12","w-full","rounded-lg","border","font-bold","text-base","shadow-lg","focus:outline-none","focus:ring-3","transition-all","flex","items-center","justify-center","gap-2",3,"click","ngClass"],[1,"text-lg"],[1,"text-sm"],[1,"w-full","px-3","py-2","text-left","text-sm","text-white","hover:bg-neutral-700",3,"click","ngClass"],[1,"border-t","border-neutral-600"],[1,"h-12","w-1/4","rounded-md","bg-cyan-700","border","border-cyan-500","text-cyan-50","font-semibold","text-base","shadow","hover:bg-cyan-600","focus:outline-none","focus:ring-2","focus:ring-cyan-300",3,"click"],[1,"h-12","w-1/4","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-base","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300",3,"click"],[1,"text-xs",3,"ngClass"],[1,"font-bold","border","border-gray-400","transition-all","duration-150","hover:scale-105","focus:outline-none","focus:ring-1","focus:ring-lime-300",3,"disabled","ngClass"],[1,"font-bold","border","border-gray-400","transition-all","duration-150","hover:scale-105","focus:outline-none","focus:ring-1","focus:ring-lime-300",3,"click","contextmenu","disabled","ngClass"],[1,"text-red-400","font-bold","text-lg","mb-3","flex","items-center","justify-center","gap-2"],[1,"grid","grid-cols-3","gap-3","text-center","mb-4"],[1,"bg-red-600/30","rounded-lg","p-2"],[1,"text-red-300","text-xs"],[1,"text-red-100","font-bold"],[1,"text-red-300","text-xs","flex","justify-center","gap-4","mb-3"],[1,"w-full","bg-red-500","hover:bg-red-400","text-red-50","font-bold","py-2","px-4","rounded-lg","transition-all",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"header",1),F(2,"app-game-header",2),r(3,"div",3),D(4,fe,6,3,"div",4),r(5,"div",5)(6,"button",6),p("click",function(){return i.toggleDropdown()}),r(7,"span"),s(8),a(),r(9,"span",7),s(10," \u25BC "),a()(),D(11,pe,8,6,"div",8),a(),D(12,be,2,0,"button",9)(13,he,2,0,"button",10),a(),r(14,"div",11)(15,"div",12)(16,"div",13),s(17,"\u5730\u96F7"),a(),r(18,"div",14),s(19),a()(),r(20,"div",15)(21,"div",16),s(22,"\u9032\u5EA6"),a(),r(23,"div",14),s(24),a()(),r(25,"div",17)(26,"div",18),s(27,"\u5DF2\u958B"),a(),r(28,"div",14),s(29),a()(),r(30,"div",19)(31,"div",20),s(32,"\u65D7\u6A19"),a(),r(33,"div",14),s(34),a()(),D(35,xe,5,9,"div",21),r(36,"div",22),F(37,"div",23),r(38,"span",24),s(39),a()()()(),r(40,"main",25)(41,"div",26),j(42,Ce,2,0,null,null,L),a()(),r(44,"footer",27),D(45,Se,28,3,"div",28),D(46,ye,5,0,"div",29)(47,Me,5,0,"div",29),a(),r(48,"app-modal",30),p("close",function(){return i.resetGame()}),r(49,"div",31),s(50,"\u{1F389}"),a(),r(51,"h2",32),s(52,"\u606D\u559C\u7372\u52DD\uFF01"),a(),r(53,"div",33)(54,"div",34)(55,"div",35)(56,"div",36),s(57,"\u96E3\u5EA6"),a(),r(58,"div",37),s(59),a()(),r(60,"div",35)(61,"div",36),s(62,"\u6642\u9593"),a(),r(63,"div",37),s(64),a()(),r(65,"div",35)(66,"div",36),s(67,"\u6548\u7387"),a(),r(68,"div",37),s(69),a()()()(),r(70,"div",38)(71,"button",39),p("click",function(){return i.resetGame()}),s(72," \u518D\u73A9\u4E00\u6B21 "),a(),r(73,"button",40),p("click",function(){return i.setDifficulty(i.gameState().difficulty===i.Difficulty.BEGINNER?i.Difficulty.INTERMEDIATE:i.gameState().difficulty===i.Difficulty.INTERMEDIATE?i.Difficulty.EXPERT:i.Difficulty.BEGINNER)}),s(74),a()()()()),e&2&&(u(2),f("gameRules",i.gameRules()),u(2),_(i.isMobile()?4:-1),u(),f("ngClass",i.isMobile()?"w-1/2":"w-2/4"),u(),U("bg-lime-600",i.isDropdownOpen()),u(2),b(i.getDifficultyName(i.gameState().difficulty)),u(),U("rotate-180",i.isDropdownOpen()),u(2),_(i.isDropdownOpen()?11:-1),u(),_(i.gameState().gameStatus===i.GameStatus.LOST||i.gameState().gameStatus===i.GameStatus.WON?12:13),u(7),b(i.remainingMines()),u(5),h("",i.getProgressPercentage(),"%"),u(5),b(i.gameState().revealedCount),u(5),b(i.gameState().flaggedCount),u(),_(i.isMobile()?35:-1),u(2),X("width",i.timelinePercentage(),"%"),f("ngClass",i.timelineColorClass()),u(),f("ngClass",i.timelineTextClass()),u(),h(" ",i.formattedTime()," "),u(2),X("grid-template-columns","repeat("+i.gameState().width+", "+(i.isMobile()?"32px":"20px")+")"),u(),W(i.getYIndices()),u(3),_(i.gameState().gameStatus===i.GameStatus.LOST?45:-1),u(),_(i.isMobile()?46:47),u(2),f("isOpen",i.gameState().gameStatus===i.GameStatus.WON)("showCloseButton",!1)("closeOnBackdrop",!1),u(11),h(" ",i.getDifficultyName(i.gameState().difficulty)," "),u(5),b(i.formattedTime()),u(5),h("",i.getProgressPercentage(),"%"),u(5),h(" ",i.gameState().difficulty===i.Difficulty.EXPERT?"\u56DE\u5230\u521D\u7D1A":"\u63D0\u5347\u96E3\u5EA6"," "))},dependencies:[Q,J,re,te,ee],encapsulation:2,changeDetection:0})};export{oe as Minesweeper};
