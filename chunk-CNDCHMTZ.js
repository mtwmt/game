import{a as se}from"./chunk-7ZGG2OEW.js";import{a as ae,b as le}from"./chunk-OGKVIGFB.js";import{$ as _,A as U,B as R,C as o,D as r,E as L,I as N,J as f,L as g,O as z,P as Y,Q as M,R as a,S as D,T as v,Z as ne,a as S,b as X,ca as oe,d as Q,ea as re,fa as F,g as Z,h,i as C,m as I,o as ee,s,t as te,v as A,w as G,x as ie,z as j}from"./chunk-ZFOG5VDT.js";var V=(n=>(n.WAITING="waiting",n.PLAYING="playing",n.WON="won",n.LOST="lost",n))(V||{}),k=(n=>(n.BEGINNER="beginner",n.INTERMEDIATE="intermediate",n.EXPERT="expert",n.CUSTOM="custom",n))(k||{});var de={beginner:{width:9,height:9,mineCount:10,name:"\u521D\u7D1A"},intermediate:{width:16,height:16,mineCount:40,name:"\u4E2D\u7D1A"},expert:{width:30,height:16,mineCount:99,name:"\u5C08\u5BB6"},custom:{width:16,height:16,mineCount:40,name:"\u81EA\u8A02"}},ce={beginner:{width:8,height:8,mineCount:8,name:"\u521D\u7D1A"},intermediate:{width:11,height:11,mineCount:20,name:"\u4E2D\u7D1A"},expert:{width:12,height:15,mineCount:40,name:"\u5C08\u5BB6"},custom:{width:11,height:11,mineCount:20,name:"\u81EA\u8A02"}};function ge(l,t){let d=l-40-4-8,b=t-256-4-8,w=Math.floor(d/32),E=Math.floor(b/32),y=6,p=20,x=25,T=.18,K=Math.max(y,Math.min(w,p)),J=Math.max(y,Math.min(E,x)),H=K*J,me=Math.max(1,Math.floor(H*T)),P={width:K,height:J,mineCount:me};return console.log("\u{1F5A5}\uFE0F \u87A2\u5E55\u5C3A\u5BF8\u8A08\u7B97:",{screenWidth:l,screenHeight:t,availableWidth:d,availableHeight:b,maxWidth:w,maxHeight:E,cellSize:32}),console.log("\u2705 \u52D5\u614B\u8A08\u7B97\u68CB\u76E4\u914D\u7F6E:",{width:P.width,height:P.height,mineCount:P.mineCount,totalCells:H,mineDensity:Math.round(P.mineCount/H*100)+"%"}),P}function fe(l,t){let e=ge(l,t);return{beginner:{width:8,height:8,mineCount:8,name:"\u521D\u7D1A"},intermediate:{width:11,height:11,mineCount:20,name:"\u4E2D\u7D1A"},expert:{width:e.width,height:e.height,mineCount:e.mineCount,name:"\u5C08\u5BB6"},custom:{width:11,height:11,mineCount:20,name:"\u81EA\u8A02"}}}function $(l,t,e){return l&&t&&e?fe(t,e):l?ce:de}var O={MIN_BOARD_SIZE:5,MAX_BOARD_SIZE:50,MIN_MINE_COUNT:1,CELL_SIZE:32,FLAG_CHAR:"\u{1F6A9}",MINE_CHAR:"\u{1F4A3}",EXPLOSION_CHAR:"\u{1F4A5}"};var c=class{static isValidPosition(t,e,i){return t.x>=0&&t.x<e&&t.y>=0&&t.y<i}static isValidGameConfig(t,e,i){let n=t*e;return t>=O.MIN_BOARD_SIZE&&e>=O.MIN_BOARD_SIZE&&t<=O.MAX_BOARD_SIZE&&e<=O.MAX_BOARD_SIZE&&i>=O.MIN_MINE_COUNT&&i<n}static canMakeMove(t){return t.gameStatus==="playing"||t.gameStatus==="waiting"}static canRevealCell(t){return!t.isRevealed&&!t.isFlagged}static canToggleFlag(t){return!t.isRevealed}static checkWinCondition(t){let i=t.width*t.height-t.mineCount;return t.revealedCount===i}static checkGameOver(t){return t.isMine&&t.isRevealed}static getNeighborPositions(t,e,i){let n=[];for(let u=-1;u<=1;u++)for(let m=-1;m<=1;m++){if(u===0&&m===0)continue;let d={x:t.x+u,y:t.y+m};this.isValidPosition(d,e,i)&&n.push(d)}return n}static isValidFlagCount(t,e){return t<=e}};var B=class{static generateMinePositions(t,e,i,n){let u=t*e,m=new Set;if(n){let p=c.getNeighborPositions(n,t,e);m.add(this.positionToString(n)),p.forEach(x=>{m.add(this.positionToString(x))})}let d=[];for(let p=0;p<t;p++)for(let x=0;x<e;x++){let T={x:p,y:x};m.has(this.positionToString(T))||d.push(T)}let b=d.length,w=Math.min(i,b),E=[],y=this.shuffleArray([...d]);for(let p=0;p<w;p++)E.push(y[p]);return E}static calculateNeighborMineCounts(t,e,i){for(let n=0;n<e;n++)for(let u=0;u<i;u++){let m=t[n][u];m.isMine||(m.neighborMineCount=this.countNeighborMines({x:n,y:u},t,e,i))}}static countNeighborMines(t,e,i,n){return c.getNeighborPositions(t,i,n).reduce((m,d)=>{let b=e[d.x][d.y];return m+(b.isMine?1:0)},0)}static shuffleArray(t){let e=[...t];for(let i=e.length-1;i>0;i--){let n=Math.floor(Math.random()*(i+1));[e[i],e[n]]=[e[n],e[i]]}return e}static positionToString(t){return`${t.x},${t.y}`}static positionsEqual(t,e){return t.x===e.x&&t.y===e.y}};var q={board:[],width:9,height:9,mineCount:10,revealedCount:0,flaggedCount:0,gameStatus:"waiting",gameTime:0,isFirstClick:!0,difficulty:"expert"},W=class l{gameState=I(S({},q));gameTimer=null;isMobile=!1;screenWidth=0;screenHeight=0;setDeviceType(t,e,i){this.isMobile=t,this.screenWidth=e||0,this.screenHeight=i||0}initializeGame(t="expert"){this.stopTimer();let i=$(this.isMobile,this.screenWidth,this.screenHeight)[t];if(!c.isValidGameConfig(i.width,i.height,i.mineCount)){console.error("Invalid game configuration");return}let n=X(S({},q),{width:i.width,height:i.height,mineCount:i.mineCount,difficulty:t,board:this.createEmptyBoard(i.width,i.height)});this.gameState.set(n)}createEmptyBoard(t,e){let i=[];for(let n=0;n<t;n++){i[n]=[];for(let u=0;u<e;u++)i[n][u]={position:{x:n,y:u},isMine:!1,isRevealed:!1,isFlagged:!1,neighborMineCount:0,id:`cell-${n}-${u}`}}return i}initializeMines(t){let e=this.gameState();B.generateMinePositions(e.width,e.height,e.mineCount,t).forEach(n=>{e.board[n.x][n.y].isMine=!0}),B.calculateNeighborMineCounts(e.board,e.width,e.height),this.gameState.set(S({},e))}revealCell(t){let e=this.gameState();if(!c.canMakeMove(e))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};if(!c.isValidPosition(t,e.width,e.height))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};let i=e.board[t.x][t.y];if(!c.canRevealCell(i))return{success:!1,gameOver:!1,cellsRevealed:[],gameStatus:e.gameStatus};e.isFirstClick&&(this.initializeMines(t),this.startTimer(),e.gameStatus="playing",e.isFirstClick=!1);let n=this.revealCellRecursive(t,e);return c.checkGameOver(e.board[t.x][t.y])?(e.gameStatus="lost",this.stopTimer(),this.revealAllMines(e)):c.checkWinCondition(e)&&(e.gameStatus="won",this.stopTimer()),this.gameState.set(S({},e)),{success:!0,gameOver:e.gameStatus!=="playing",cellsRevealed:n,gameStatus:e.gameStatus}}revealCellRecursive(t,e){let i=e.board[t.x][t.y],n=[];return i.isRevealed||i.isFlagged||(i.isRevealed=!0,e.revealedCount++,n.push(t),!i.isMine&&i.neighborMineCount===0&&c.getNeighborPositions(t,e.width,e.height).forEach(m=>{let d=e.board[m.x][m.y];if(!d.isRevealed&&!d.isFlagged){let b=this.revealCellRecursive(m,e);n.push(...b)}})),n}toggleFlag(t){let e=this.gameState();if(!c.canMakeMove(e)||!c.isValidPosition(t,e.width,e.height))return!1;let i=e.board[t.x][t.y];if(!c.canToggleFlag(i))return!1;if(i.isFlagged)i.isFlagged=!1,e.flaggedCount--;else if(c.isValidFlagCount(e.flaggedCount+1,e.mineCount))i.isFlagged=!0,e.flaggedCount++;else return!1;return this.gameState.set(S({},e)),!0}revealAllMines(t){for(let e=0;e<t.width;e++)for(let i=0;i<t.height;i++){let n=t.board[e][i];n.isMine&&(n.isRevealed=!0)}}startTimer(){this.gameTimer=window.setInterval(()=>{let t=this.gameState();t.gameTime++,this.gameState.set(S({},t))},1e3)}stopTimer(){this.gameTimer&&(clearInterval(this.gameTimer),this.gameTimer=null)}resetGame(){let t=this.gameState().difficulty;this.initializeGame(t)}setDifficulty(t){this.initializeGame(t)}setCustomGame(t,e,i){if(!c.isValidGameConfig(t,e,i)){console.error("Invalid custom game configuration");return}this.stopTimer();let n=X(S({},q),{width:t,height:e,mineCount:i,difficulty:"custom",board:this.createEmptyBoard(t,e)});this.gameState.set(n)}getRemainingMineCount(){let t=this.gameState();return t.mineCount-t.flaggedCount}cleanup(){this.stopTimer()}static \u0275fac=function(e){return new(e||l)};static \u0275prov=Q({token:l,factory:l.\u0275fac,providedIn:"root"})};var be=(l,t,e,i,n,u,m,d,b,w,E,y,p,x,T)=>({"w-8 h-8 text-sm":l,"w-5 h-5 text-xs":t,"bg-neutral-100 hover:bg-neutral-200":e,"bg-neutral-400":i,"bg-white":n,"bg-red-500 text-white":u,"bg-yellow-300":m,"text-blue-600":d,"text-green-600":b,"text-red-600":w,"text-purple-600":E,"text-yellow-600":y,"text-pink-600":p,"text-black":x,"text-neutral-600":T}),he=(l,t)=>t.id;function Ce(l,t){if(l&1){let e=N();o(0,"div",4)(1,"button",47),f("click",function(){h(e);let n=g();return C(n.gameMode()==="flag"?n.toggleGameMode():null)}),a(2," \u{1F528} "),r(),o(3,"button",47),f("click",function(){h(e);let n=g();return C(n.gameMode()==="dig"?n.toggleGameMode():null)}),a(4," \u{1F6A9} "),r()()}if(l&2){let e=g();s(),M(e.gameMode()==="dig"?"bg-lime-700 border-lime-500 text-lime-50 focus:ring-lime-300":"bg-neutral-700 border-neutral-500 text-neutral-300 hover:bg-neutral-600 focus:ring-neutral-300"),s(2),M(e.gameMode()==="flag"?"bg-red-700 border-red-500 text-red-50 focus:ring-red-300":"bg-neutral-700 border-neutral-500 text-neutral-300 hover:bg-neutral-600 focus:ring-neutral-300")}}function ve(l,t){if(l&1){let e=N();o(0,"div",8)(1,"button",48),f("click",function(){h(e);let n=g();return C(n.selectDifficulty(n.Difficulty.BEGINNER))}),a(2),r(),L(3,"div",49),o(4,"button",48),f("click",function(){h(e);let n=g();return C(n.selectDifficulty(n.Difficulty.INTERMEDIATE))}),a(5),r(),o(6,"button",48),f("click",function(){h(e);let n=g();return C(n.selectDifficulty(n.Difficulty.EXPERT))}),a(7),r()()}if(l&2){let e=g();s(),M(e.isCurrentDifficulty(e.Difficulty.BEGINNER)?"bg-lime-700":""),s(),v(" ",e.getDifficultyName(e.Difficulty.BEGINNER)," "),s(2),M(e.isCurrentDifficulty(e.Difficulty.INTERMEDIATE)?"bg-lime-700":""),s(),v(" ",e.getDifficultyName(e.Difficulty.INTERMEDIATE)," "),s(),M(e.isCurrentDifficulty(e.Difficulty.EXPERT)?"bg-lime-700":""),s(),v(" ",e.getDifficultyName(e.Difficulty.EXPERT)," ")}}function xe(l,t){if(l&1){let e=N();o(0,"button",50),f("click",function(){h(e);let n=g();return C(n.resetGame())}),a(1," \u91CD\u65B0\u958B\u59CB "),r()}}function _e(l,t){if(l&1){let e=N();o(0,"button",51),f("click",function(){h(e);let n=g();return C(n.resetGame())}),a(1," \u65B0\u904A\u6232 "),r()}}function Se(l,t){if(l&1){let e=N();o(0,"button",53),f("click",function(){let n=h(e).$index,u=g().$index,m=g();return C(m.onCellClick({x:u,y:n}))})("contextmenu",function(n){let u=h(e).$index,m=g().$index,d=g();return C(d.onCellRightClick(n,{x:m,y:u}))}),a(1),r()}if(l&2){let e=t.$implicit,i=t.$index,n=g().$index,u=g();R("disabled",u.gameState().gameStatus===u.GameStatus.LOST||u.gameState().gameStatus===u.GameStatus.WON)("ngClass",ne(3,be,[u.isMobile(),!u.isMobile(),!e.isRevealed&&!e.isFlagged,e.isRevealed&&!e.isMine&&e.neighborMineCount===0,e.isRevealed&&!e.isMine&&e.neighborMineCount>0,e.isRevealed&&e.isMine,e.isFlagged,e.isRevealed&&e.neighborMineCount===1,e.isRevealed&&e.neighborMineCount===2,e.isRevealed&&e.neighborMineCount===3,e.isRevealed&&e.neighborMineCount===4,e.isRevealed&&e.neighborMineCount===5,e.isRevealed&&e.neighborMineCount===6,e.isRevealed&&e.neighborMineCount===7,e.isRevealed&&e.neighborMineCount===8])),s(),v(" ",u.getCellContent(n,i)," ")}}function Me(l,t){if(l&1&&j(0,Se,2,19,"button",52,he),l&2){let e=t.$implicit;U(e)}}function De(l,t){l&1&&(o(0,"div",27)(1,"span"),a(2,"\u{1F528} \u6316\u6398\u6A21\u5F0F"),r(),o(3,"span"),a(4,"\u{1F6A9} \u6A19\u65D7\u6A21\u5F0F"),r(),o(5,"span"),a(6,"\u{1F446} \u9EDE\u64CA\u64CD\u4F5C"),r()())}function Ee(l,t){l&1&&(o(0,"div",27)(1,"span"),a(2,"\u{1F446} \u5DE6\u9375\u63ED\u958B"),r(),o(3,"span"),a(4,"\u{1F6A9} \u53F3\u9375\u6A19\u8A18"),r()())}var ue=class l{minesweeperService=Z(W);platformId=Z(ee);gameState=this.minesweeperService.gameState;GameStatus=V;Difficulty=k;difficultyConfigs=_(()=>$(this.isMobile(),this.getScreenWidth(),this.getScreenHeight()));isDropdownOpen=I(!1);isMobile=I(this.checkIsMobile());gameMode=I("dig");gameRules=_(()=>{let t=["\u9EDE\u64CA\u683C\u5B50\u4F86\u63ED\u958B\u5B83\u5011\uFF0C\u907F\u514D\u9EDE\u5230\u5730\u96F7","\u6578\u5B57\u8868\u793A\u8A72\u683C\u5B50\u5468\u570D8\u683C\u4E2D\u5730\u96F7\u7684\u6578\u91CF"],e=this.isMobile()?["\u4F7F\u7528\u6316\u6398\u{1F528}\u548C\u6A19\u65D7\u{1F6A9}\u6309\u9215\u5207\u63DB\u64CD\u4F5C\u6A21\u5F0F","\u6316\u6398\u6A21\u5F0F\uFF1A\u9EDE\u64CA\u63ED\u958B\u683C\u5B50","\u6A19\u65D7\u6A21\u5F0F\uFF1A\u9EDE\u64CA\u6A19\u8A18/\u53D6\u6D88\u6A19\u8A18\u5730\u96F7"]:["\u5DE6\u9375\u9EDE\u64CA\u63ED\u958B\u683C\u5B50","\u53F3\u9375\u9EDE\u64CA\u6A19\u8A18/\u53D6\u6D88\u6A19\u8A18\u5730\u96F7"],i=["\u63ED\u958B\u6240\u6709\u975E\u5730\u96F7\u683C\u5B50\u5373\u53EF\u7372\u52DD","\u9EDE\u5230\u5730\u96F7\u5C31\u6703\u5931\u6557","\u7B2C\u4E00\u6B21\u9EDE\u64CA\u4FDD\u8B49\u4E0D\u6703\u8E29\u5230\u5730\u96F7","\u65D7\u6A19\u6578\u91CF\u4E0D\u80FD\u8D85\u904E\u5730\u96F7\u7E3D\u6578"];return{title:"\u8E29\u5730\u96F7\u904A\u6232\u898F\u5247",rules:[...t,...e,...i]}});remainingMines=_(()=>this.minesweeperService.getRemainingMineCount());formattedTime=_(()=>{let t=this.gameState().gameTime,e=Math.floor(t/60),i=t%60;return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`});gameStatusText=_(()=>{switch(this.gameState().gameStatus){case"waiting":return"\u9EDE\u64CA\u958B\u59CB\u904A\u6232";case"playing":return"\u904A\u6232\u9032\u884C\u4E2D";case"won":return"\u{1F389} \u606D\u559C\u7372\u52DD\uFF01";case"lost":return"\u{1F4A5} \u904A\u6232\u5931\u6557";default:return""}});ngOnInit(){this.minesweeperService.setDeviceType(this.isMobile(),this.getScreenWidth(),this.getScreenHeight()),this.minesweeperService.initializeGame(),F(this.platformId)&&document.addEventListener("click",t=>{!t.target.closest(".dropdown-container")&&this.isDropdownOpen()&&this.closeDropdown()})}ngOnDestroy(){this.minesweeperService.cleanup()}onCellClick(t){this.isMobile()?this.gameMode()==="dig"?this.minesweeperService.revealCell(t):this.minesweeperService.toggleFlag(t):this.minesweeperService.revealCell(t)}onCellRightClick(t,e){t.preventDefault(),this.isMobile()||this.minesweeperService.toggleFlag(e)}setDifficulty(t){this.minesweeperService.setDifficulty(t)}toggleDropdown(){this.isDropdownOpen.set(!this.isDropdownOpen())}closeDropdown(){this.isDropdownOpen.set(!1)}selectDifficulty(t){this.setDifficulty(t),this.closeDropdown()}resetGame(){this.minesweeperService.resetGame()}getCellContent(t,e){let i=this.gameState().board[t][e];return i.isFlagged?"\u{1F6A9}":i.isRevealed?i.isMine?"\u{1F4A3}":i.neighborMineCount>0?i.neighborMineCount.toString():"":""}getCellClass(t,e){let i=this.gameState().board[t][e],n=["cell"];return i.isRevealed?(n.push("revealed"),i.isMine?n.push("mine"):i.neighborMineCount>0&&n.push(`number-${i.neighborMineCount}`)):n.push("hidden"),i.isFlagged&&n.push("flagged"),n.join(" ")}getDifficultyName(t){return this.difficultyConfigs()[t].name}isCurrentDifficulty(t){return this.gameState().difficulty===t}getProgressPercentage(){let t=this.gameState(),e=t.width*t.height-t.mineCount;return e===0?0:Math.round(t.revealedCount/e*100)}timelinePercentage=_(()=>{let t=this.gameState().gameTime;return Math.min(t/999*100,100)});timelineColorClass=_(()=>{let t=this.gameState().gameTime;return t>=600?"from-red-500 to-red-300":t>=300?"from-yellow-500 to-yellow-300":"from-lime-500 to-lime-300"});timelineTextClass=_(()=>this.gameState().gameTime>=300?"text-neutral-900/90":"text-white");checkIsMobile(){return F(this.platformId)?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768:!1}getScreenWidth(){return F(this.platformId)?window.innerWidth:0}getScreenHeight(){return F(this.platformId)?window.innerHeight:0}toggleGameMode(){this.isMobile()&&this.gameMode.set(this.gameMode()==="dig"?"flag":"dig")}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=te({type:l,selectors:[["app-minesweeper"]],decls:92,vars:36,consts:[[1,"w-full","max-w-sm","mx-auto","flex","flex-col"],[1,"mb-2","flex","flex-col","gap-3","items-stretch"],["title","\u8E29\u5730\u96F7",3,"gameRules"],[1,"flex","gap-2","justify-between"],[1,"flex","gap-2","w-1/2"],[1,"relative","dropdown-container"],[1,"h-12","w-full","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-sm","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300","flex","items-center","justify-between","px-3","transition-all",3,"click"],[1,"text-lime-200","font-bold","transition-transform","duration-200"],[1,"absolute","top-14","left-0","w-full","bg-neutral-800","border","border-neutral-600","rounded-md","shadow-lg","z-50"],[1,"h-12","w-1/4","rounded-md","bg-cyan-700","border","border-cyan-500","text-cyan-50","font-semibold","text-base","shadow","hover:bg-cyan-600","focus:outline-none","focus:ring-2","focus:ring-cyan-300"],[1,"h-12","w-1/4","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-base","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300"],[1,"flex","items-center","gap-1","justify-center","flex-wrap","bg-neutral-900/70","rounded-md","p-2","border","border-neutral-700"],[1,"border","border-red-400","bg-red-400/20","px-2","py-1","text-red-300","font-bold","hover:bg-red-400/30","transition"],[1,"text-red-400","text-xs"],[1,"text-center","text-xs"],[1,"border","border-lime-400","bg-lime-400/20","px-2","py-1","text-lime-300","font-bold","hover:bg-lime-400/30","transition"],[1,"text-lime-400","text-xs"],[1,"border","border-yellow-400","bg-yellow-400/20","px-2","py-1","text-yellow-300","font-bold","hover:bg-yellow-400/30","transition"],[1,"text-yellow-400","text-xs"],[1,"border","border-orange-400","bg-orange-400/20","px-2","py-1","text-orange-300","font-bold","hover:bg-orange-400/30","transition"],[1,"text-orange-400","text-xs"],[1,"w-full","mt-2","h-2","bg-neutral-700/80","rounded","overflow-hidden","relative"],[1,"h-full","bg-gradient-to-r","transition-all","duration-300"],[1,"absolute","inset-0","text-[9px]","tracking-wide","font-semibold","flex","items-center","justify-center","select-none","transition-colors","duration-300",3,"ngClass"],[1,"flex","justify-center"],[1,"grid","gap-[1px]","p-2","bg-green-900/40","border","border-green-800","touch-none","select-none","mx-auto"],[1,"mt-4","text-center","text-xs","text-zinc-400","px-4"],[1,"flex","justify-center","gap-4"],["theme","red",3,"close","isOpen","showCloseButton","closeOnBackdrop"],[1,"text-3xl","mb-4"],[1,"text-2xl","font-bold","mb-4","text-red-100"],[1,"bg-red-700/50","rounded-lg","p-3","mb-6"],[1,"grid","grid-cols-2","gap-4","text-center"],[1,"bg-red-600/50","rounded-lg","p-3"],[1,"text-red-200"],[1,"text-red-100","font-bold","text-xl"],[1,"bg-red-500","hover:bg-red-400","text-red-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg",3,"click"],["theme","green",3,"close","isOpen","showCloseButton","closeOnBackdrop"],[1,"text-2xl","font-bold","mb-4","text-green-100"],[1,"bg-green-700/50","rounded-lg","p-3","mb-6"],[1,"grid","grid-cols-3","gap-2","text-center"],[1,"bg-green-600/50","rounded-lg","p-3"],[1,"text-green-200"],[1,"text-green-100","font-bold","text-xl"],[1,"flex","gap-2"],[1,"bg-green-500","hover:bg-green-400","text-green-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex-1",3,"click"],[1,"bg-lime-500","hover:bg-lime-400","text-lime-900","font-bold","py-3","px-6","rounded-lg","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex-1",3,"click"],[1,"h-12","flex-1","rounded-lg","border","font-bold","text-lg","shadow-lg","focus:outline-none","focus:ring-3","transition-all","flex","items-center","justify-center",3,"click"],[1,"w-full","px-3","py-2","text-left","text-sm","text-white","hover:bg-neutral-700",3,"click"],[1,"border-t","border-neutral-600"],[1,"h-12","w-1/4","rounded-md","bg-cyan-700","border","border-cyan-500","text-cyan-50","font-semibold","text-base","shadow","hover:bg-cyan-600","focus:outline-none","focus:ring-2","focus:ring-cyan-300",3,"click"],[1,"h-12","w-1/4","rounded-md","bg-lime-700","border","border-lime-500","text-lime-50","font-semibold","text-base","shadow","hover:bg-lime-600","focus:outline-none","focus:ring-2","focus:ring-lime-300",3,"click"],[1,"font-bold","border","border-gray-400","transition-all","duration-150","hover:scale-105","focus:outline-none","focus:ring-1","focus:ring-lime-300",3,"disabled","ngClass"],[1,"font-bold","border","border-gray-400","transition-all","duration-150","hover:scale-105","focus:outline-none","focus:ring-1","focus:ring-lime-300",3,"click","contextmenu","disabled","ngClass"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"header",1),L(2,"app-game-header",2),o(3,"div",3),A(4,Ce,5,4,"div",4),o(5,"div",5)(6,"button",6),f("click",function(){return i.toggleDropdown()}),o(7,"span"),a(8),r(),o(9,"span",7),a(10," \u25BC "),r()(),A(11,ve,8,9,"div",8),r(),A(12,xe,2,0,"button",9)(13,_e,2,0,"button",10),r(),o(14,"div",11)(15,"div",12)(16,"div",13),a(17,"\u5730\u96F7"),r(),o(18,"div",14),a(19),r()(),o(20,"div",15)(21,"div",16),a(22,"\u9032\u5EA6"),r(),o(23,"div",14),a(24),r()(),o(25,"div",17)(26,"div",18),a(27,"\u5DF2\u958B"),r(),o(28,"div",14),a(29),r()(),o(30,"div",19)(31,"div",20),a(32,"\u65D7\u6A19"),r(),o(33,"div",14),a(34),r()(),o(35,"div",21),L(36,"div",22),o(37,"span",23),a(38),r()()()(),o(39,"main",24)(40,"div",25),j(41,Me,2,0,null,null,ie),r()(),o(43,"footer",26),A(44,De,7,0,"div",27)(45,Ee,5,0,"div",27),r(),o(46,"app-modal",28),f("close",function(){return i.resetGame()}),o(47,"div",29),a(48,"\u{1F4A5}"),r(),o(49,"h2",30),a(50,"\u8E29\u5230\u5730\u96F7\uFF01"),r(),o(51,"div",31)(52,"div",32)(53,"div",33)(54,"div",34),a(55,"\u904A\u6232\u6642\u9593"),r(),o(56,"div",35),a(57),r()(),o(58,"div",33)(59,"div",34),a(60,"\u5DF2\u958B\u683C\u5B50"),r(),o(61,"div",35),a(62),r()()()(),o(63,"button",36),f("click",function(){return i.resetGame()}),a(64," \u91CD\u65B0\u958B\u59CB "),r()(),o(65,"app-modal",37),f("close",function(){return i.resetGame()}),o(66,"div",29),a(67,"\u{1F389}"),r(),o(68,"h2",38),a(69,"\u606D\u559C\u7372\u52DD\uFF01"),r(),o(70,"div",39)(71,"div",40)(72,"div",41)(73,"div",42),a(74,"\u96E3\u5EA6"),r(),o(75,"div",43),a(76),r()(),o(77,"div",41)(78,"div",42),a(79,"\u6642\u9593"),r(),o(80,"div",43),a(81),r()(),o(82,"div",41)(83,"div",42),a(84,"\u6548\u7387"),r(),o(85,"div",43),a(86),r()()()(),o(87,"div",44)(88,"button",45),f("click",function(){return i.resetGame()}),a(89," \u518D\u73A9\u4E00\u6B21 "),r(),o(90,"button",46),f("click",function(){return i.setDifficulty(i.gameState().difficulty===i.Difficulty.BEGINNER?i.Difficulty.INTERMEDIATE:i.gameState().difficulty===i.Difficulty.INTERMEDIATE?i.Difficulty.EXPERT:i.Difficulty.BEGINNER)}),a(91),r()()()()),e&2&&(s(2),R("gameRules",i.gameRules()),s(2),G(i.isMobile()?4:-1),s(),M(i.isMobile()?"w-1/2":"w-2/4"),s(),Y("bg-lime-600",i.isDropdownOpen()),s(2),D(i.getDifficultyName(i.gameState().difficulty)),s(),Y("rotate-180",i.isDropdownOpen()),s(2),G(i.isDropdownOpen()?11:-1),s(),G(i.gameState().gameStatus===i.GameStatus.LOST||i.gameState().gameStatus===i.GameStatus.WON?12:13),s(7),D(i.remainingMines()),s(5),v("",i.getProgressPercentage(),"%"),s(5),D(i.gameState().revealedCount),s(5),D(i.gameState().flaggedCount),s(2),M(i.timelineColorClass()),z("width",i.timelinePercentage(),"%"),s(),R("ngClass",i.timelineTextClass()),s(),v(" ",i.formattedTime()," "),s(2),z("grid-template-columns","repeat("+i.gameState().width+", "+(i.isMobile()?"32px":"20px")+")"),s(),U(i.gameState().board),s(3),G(i.isMobile()?44:45),s(2),R("isOpen",i.gameState().gameStatus===i.GameStatus.LOST)("showCloseButton",!1)("closeOnBackdrop",!1),s(11),D(i.formattedTime()),s(5),D(i.gameState().revealedCount),s(3),R("isOpen",i.gameState().gameStatus===i.GameStatus.WON)("showCloseButton",!1)("closeOnBackdrop",!1),s(11),v(" ",i.getDifficultyName(i.gameState().difficulty)," "),s(5),D(i.formattedTime()),s(5),v("",i.getProgressPercentage(),"%"),s(5),v(" ",i.gameState().difficulty===i.Difficulty.EXPERT?"\u56DE\u5230\u521D\u7D1A":"\u63D0\u5347\u96E3\u5EA6"," "))},dependencies:[re,oe,se,le,ae],encapsulation:2})};export{ue as MinesweeperComponent};
